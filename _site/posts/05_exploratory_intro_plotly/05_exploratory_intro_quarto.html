<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.80">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Albert Rapp">
  <meta name="dcterms.date" content="2021-10-16">
  <meta name="description" content="We try to do a few simple things with the plotly package in order to figure out how it works.">
  <title>Albert Rapp - An Exploratory Introduction to the Plotly Package</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="../../site_libs/quarto-nav/headroom.min.js"></script>
  <script src="../../site_libs/clipboard/clipboard.min.js"></script>
  <meta name="quarto:offset" content="../../">
  <script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
  <script src="../../site_libs/quarto-search/fuse.min.js"></script>
  <script src="../../site_libs/quarto-search/quarto-search.js"></script>
  <script src="../../site_libs/quarto-html/quarto.js"></script>
  <script src="../../site_libs/quarto-html/popper.min.js"></script>
  <script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="../../site_libs/quarto-html/anchor.min.js"></script>
  <link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <script id="quarto-search-options" type="application/json">{
    "location": "navbar",
    "copy-button": false,
    "collapse-after": 2,
    "panel-placement": "end",
    "type": "overlay",
    "limit": 20,
    "language": {
      "search-no-results-text": "No results",
      "search-matching-documents-text": "matching documents",
      "search-copy-link-title": "Copy link to search",
      "search-hide-matches-text": "Hide additional matches",
      "search-more-match-text": "more match in this document",
      "search-more-matches-text": "more matches in this document",
      "search-clear-button-title": "Clear",
      "search-detached-cancel-button-title": "Cancel",
      "search-submit-button-title": "Submit"
    }
  }</script>
  <script src="../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
  <script src="../../site_libs/plotly-binding-4.10.0/plotly.js"></script>
  <script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
  <script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
  <link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
  <script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
  <link href="../../site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
  <script src="../../site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Albert Rapp</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html">Blog</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/AlbertRapp"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/rappa753"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/user/Alfrodo123"><i class="bi bi-youtube" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"><i class="bi bi-rss" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-ressources" role="button" data-bs-toggle="dropdown" aria-expanded="false">Ressources</a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-ressources">    
        <li>
    <a class="dropdown-item" href="https://yards.albert-rapp.de/">
 <span class="dropdown-text">YARDS</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rweekly.org/">
 <span class="dropdown-text">R Weekly</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.r-bloggers.com/">
 <span class="dropdown-text">R Bloggers</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../archive.html">Archive</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
<h2 id="toc-title">On this page</h2>
<ul>
<li><a href="#one-side-note-before-we-dive-in" class="nav-link active" data-scroll-target="#one-side-note-before-we-dive-in">One Side Note before We Dive in</a></li>
<li><a href="#from-ggplot2-to-plotly" class="nav-link" data-scroll-target="#from-ggplot2-to-plotly">From ggplot2 to plotly</a></li>
<li><a href="#creating-a-plotly-chart-manually" class="nav-link" data-scroll-target="#creating-a-plotly-chart-manually">Creating a Plotly Chart Manually</a></li>
</ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<header id="title-block-header" class="quarto-title-block default">



<div class="quarto-title"><h1 class="title display-7">An Exploratory Introduction to the Plotly Package</h1><div class="quarto-description"><p>We try to do a few simple things with the plotly package in order to figure out how it works.</p></div></div><div class="quarto-categories"><div class="quarto-category">Visualization</div><div class="quarto-category">Exploratory Intro</div></div><div class="quarto-title-meta"><div><div class="quarto-title-meta-heading">Author</div><div class="quarto-title-meta-contents"><div class="quarto-title-authors"><p>Albert Rapp</p></div></div></div><div><div class="quarto-title-meta-heading">Published</div><div class="quarto-title-meta-contents"><p class="date">October 16, 2021</p></div></div></div></header>

<p>Currently, I am quite curious about interactive plots which is why I am reading <a href="https://alignedleft.com/work/d3-book-2e">Scott Murray’s highly recommendable book on D3</a>. For those of you who don’t know it, <a href="https://d3js.org/">D3.js</a> is a JavaScript library that is great for creating amazing interactive <strong>D</strong>ata-<strong>D</strong>riven-<strong>D</strong>ocuments on the web.</p>
<p>Unfortunately, compared to <code>ggplot2</code>, D3’s learning curve feels quite steep and I am not yet able to work with it yet. Fortunately, there are other interactive graphing libraries out there that I can use to get a first feel for creating interactive plots. For instance, there is another JavaScript library <a href="https://plotly.com/graphing-libraries/">plotly.js</a>, which is built on top of D3 and can be easily used in R through the <code>plotly</code> package.</p>
<p>Therefore, I decided to play around with this R package in the hope of figuring out how it works. Also, I summarized what I played around with in this blog post by writing what I like to call an “exploratory introduction”.</p>
<p>As the name implies, this is not really a formal introduction to <code>plotly</code> and more of an experience report. Nevertheless, I suspect that this can be useful for people who have already knowledge about <code>ggplot2</code> and want to get started with <code>plotly</code> as well.</p>
<p>Further, in case you do not want to read my informal commentary, you can also check out the <a href="https://youtu.be/rzpbQ93pmPM">video version</a> of this blog post. Think of it as a summary of this blog post.</p>
<p>As of now, I plan on doing a similar exploratory introduction to <a href="https://rstudio.github.io/r2d3/"><code>r2d3</code></a> which is an R interface to D3. Possibly, this will then be combined with knowledge I gathered from Scott Murray’s book.</p>
<section id="one-side-note-before-we-dive-in" class="level2">
<h2 class="anchored" data-anchor-id="one-side-note-before-we-dive-in">One Side Note before We Dive in</h2>
<p>According to <a href="https://en.wikipedia.org/wiki/JavaScript">Wikipedia</a>, JavaScript “is one of the core technologies of the World Wide Web”. Surprisingly, JavaScript’s ubiquity on the interwebs also messed with this blog’s theme template such that font formatting was completely destroyed when I included an interactive <code>plotly</code> plot.</p>
<p>To work around this issue, I had to save the plots in an auxillary html-file and include it as a separate frame. This is why you will find that, here, all plots are saved in a variable (for later export) even if it does not really make sense to save it for plotting purposes.</p>
<p>Finally, be aware that, for some reason, interactive <code>plotly</code> plots are quite large such that it might take some time to load them all.</p>
<p><strong>EDIT (July 10, 2022)</strong>: I have moved this blog to <a href="https://quarto.org/">Quarto</a>. Now, the issues with the theme do not persist anymore. However, I have left the remaining blog post unchanged.</p>
</section>
<section id="from-ggplot2-to-plotly" class="level2">
<h2 class="anchored" data-anchor-id="from-ggplot2-to-plotly">From ggplot2 to plotly</h2>
<p>Let us begin by transforming a ggplot to a plotly plot. Using a built-in function from the <code>plotly</code> package, it is straight-forward to convert a ggplot.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(hwy, cty, <span class="at">fill =</span> class)) <span class="sc">+</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>plotly_p <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p) </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>plotly_p </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-9e36f9b7287fc3ff1689" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-9e36f9b7287fc3ff1689">{"x":{"data":[{"x":[25.9632802305743,23.1190123721957,25.9887250857428,25.1541267812252,23.6735808175057],"y":[16.1715933058411,14.6479072932154,15.8091512074694,15.1368680473417,15.2355305410922],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.6703195737675,28.6149087218568,31.1211074428633,29.8184731947258,26.0166396560147,26.0452899832278,27.1070123938844,26.3514895748347,24.9674781084061,27.733022740297,26.9885691683739,25.1537872454152,25.0515580063686,25.2918943323195,25.0240427458659,29.1382941171527,26.7819375887513,25.1848567074165,27.3865686707199,24.7929245101288,26.9864249885082,27.17025558725,29.0991133820266,31.0163148777559,31.1627298576757,26.3702192097902,25.6694392364472,26.6802335521206,29.8987428184599,32.6993851676583,35.3040778577328,37.3269609143957,35.3042107261717,28.6743625726551,26.0449774477631,29.0249908044934,29.1151518819854,24.3526777792722,44.3510802071542,29.1143451901153,26.0465886261314,28.7107645461336,29.0018962386996,29.0531374858692,29.365320539102,23.1118819903582,24.3898693742231],"y":[18.0268419560045,21.0923218129203,20.0821755310521,21.2593561770394,16.2463095970452,17.7856982279569,18.2053764721379,18.3065409393981,16.1083426604047,19.8828511305153,18.8821516860276,14.6140097845346,17.2346900293604,16.7395765578374,15.1742942491546,21.0763557422906,18.602791868709,20.2390499321744,20.0538449784741,19.3221163321286,20.3973518555984,21.1337628751993,20.7003657264635,21.2046494798735,21.8263884020969,17.8563024202362,17.6979020724073,18.3946897083893,24.3059953782707,23.7451707553118,25.8588577108458,28.2569796077907,25.7609339870512,20.6208273338154,18.6892111457884,21.1989603221416,22.1523408697918,16.6938118636608,32.8647365767509,21.1358172791079,18.7371968301013,21.7606279155239,21.2014816241339,21.0122608136386,21.1350337892771,16.1327578140423,16.8209167068824],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.3015260661021,24.7344928687438,23.22923045028,27.0733265019953,30.0104306235909,26.3798321515322,29.0909686008468,25.7206313757226,26.2151436597109,26.7335966616869,29.6570909235626,30.7646176569164,26.1699584566057,25.9879311926663,28.3218959607184,31.2650761147961,31.610142829828,27.030379207246,25.7648798856884,25.7436292188242,24.8172684831545,25.3088509138674,26.0846521619707,25.6422519126907,26.6405052188784,27.6901269862428,25.2293164463714,28.8143278062344,26.6189453914762,30.8523996127769,30.8343821903691,25.8201756801456,26.1517681429163,27.7379239622504,28.8464452585205,28.6597787914798,28.0418295787647,29.0388746505603,25.6351769994944,25.903115618974,25.6681236999109],"y":[14.9282032223418,17.2408581089228,16.1730884993449,19.2358713498339,21.8597383245826,17.739429394342,17.9667473772541,16.7861409256235,17.7430736832321,18.3815162934363,20.7930580658838,20.7557921497151,17.7476593397558,18.1878459936008,18.959330496937,23.3631126113236,23.2660154510289,18.8843652132899,19.1294103706256,18.2282944915816,19.1442729048431,18.790104723908,17.6082010868937,16.3269942136481,16.9268797408789,17.8116808157414,16.0743107318878,21.3014747805893,21.3279924029484,20.7924861503765,20.9507467901334,17.7296510787681,17.9029145939276,18.8719521228224,21.2923647090793,18.0586267577484,18.9397211674601,21.1957965876907,16.1432556403801,17.7616114661098,17.3433365432546],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.0227239465341,24.048225129582,22.2693779760972,22.3070750379935,23.6491686612368,23.937161385268,17.3110202835873,22.2632277594879,21.3645934749395,22.7608061537147,23.2392797995359],"y":[17.6407954813913,17.2315873414278,16.1862673345953,15.7100894937292,17.2732514120638,16.7496599560603,11.2670832933858,15.2271214475855,15.2604920431972,15.6576757021248,16.1487340793014],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.8038323123008,18.063645818457,16.8218950323761,16.6227737117559,19.2495132723823,18.7078005781397,11.9210049238056,16.6771984776482,14.7399151366204,15.8066530570388,11.6486974637955,16.7692785060033,17.1920727718622,15.7945951608941,12.1678999835625,14.9525950491428,16.3881444437429,16.8512996047735,14.6970500269905,16.6484100719914,17.1784525316209,15.842498434335,16.2687410986051,17.1372643891722,15.0569765023887,17.2878677111119,20.0598334677517,19.9754375632852,21.7049041287974,16.99371089302,18.7772753000259,17.6609749253839,20.2609834298491],"y":[15.2739422271028,13.874752718769,12.9663267077878,13.8109168803319,14.1778485067189,14.2077149588615,9.39028912484646,10.8711940122768,11.0632523125038,12.1503574095666,9.32648486103863,12.8863976005465,12.9027752686292,11.9117981331423,8.62526156269014,11.1297340260819,11.1016412440687,13.1973705230281,11.3030856978148,14.3786323694512,14.3183879606426,12.7129316097125,12.7228046262637,12.838467425108,11.1634765574709,12.7664306921884,14.7897396085784,15.6576763857156,16.7139430992305,15.0609453359619,14.7147574739531,14.9222336109728,16.129337281175],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[25.9226411746815,25.0580323230475,26.0342913210392,24.3072739636526,20.8666007431224,22.1550836434588,22.9800868816674,21.6207627182826,20.3274748099968,32.7456976242363,32.1159039769322,31.7511060817167,29.1817665183917,31.7604314571246,33.6243229450658,36.2746180705726,36.2066101837903,29.3059377610683,26.0796815896407,29.1764135122299,27.7087191184983,27.1792592413723,23.6299874551594,23.7126930655912,24.002088243328,26.2885680496693,25.8434132281691,26.2295783450827,25.7966720595956,44.2943236265331,40.7467814737931,29.1862527746707,26.3426234392449,28.0725765978917,28.8410276254639],"y":[18.0038693202659,17.9531263396144,16.6992158096284,16.2797883456573,15.3386000169441,14.7645690463483,14.7140759373084,14.9923510914668,14.0210552355275,28.1040279934183,24.2071043718606,25.2174598235637,22.923014947027,24.2878879055381,25.926747511141,25.1751742508262,24.1999917615205,21.2072396272793,18.8270458169281,19.2132031809539,20.0715003600344,20.1752181112766,16.9082250693813,16.3079726785421,17.3874912271276,21.3235840260983,18.8076790960506,18.8201768135652,18.8812075568363,34.7247539224103,29.047002273798,21.0092751704156,18.6441068213433,19.6789087262005,19.8743076290935],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.730048439838,14.7980333622545,19.7649131594226,16.6015379605815,17.0696817765012,19.0886254290119,14.0101853031665,14.8739927485585,16.9964049253613,16.9631157293916,17.3576533049345,12.3767684595659,17.0529710939154,16.2631027843803,18.2608779279515,14.7193599198014,17.1188509345055,16.8136931145564,18.1973494859412,17.204929156974,18.6537530535832,16.6480911968276,18.8563245458528,19.089282071963,17.2466204512864,22.078106302768,18.607719351165,19.7739009121433,16.9270011244342,11.6823010399938,18.7592530315742,17.6001228243113,14.3890627866611,15.241813872382,18.1227199528366,17.998966319114,14.6571209438145,17.3630752617493,15.7626066613942,18.0492759158835,16.6773183930665,18.7932654891163,19.1618988027796,16.977660538815,17.1113716127351,17.2902150573209,20.2856964465231,17.8847745256498,24.6714179188013,24.2114164480939,26.8889872375876,25.2811944548041,26.0054945992306,23.3202081037685,19.8055693361908,19.684732459113,19.0933377850801,16.6595744365826,19.8246874568984,17.0981509659439,14.8495922138914,17.6678228635341],"y":[14.2964044753462,10.9033410606906,13.9893802784383,12.7692566603422,11.6732674833387,14.0001104190946,11.3055463770404,11.0143155213445,14.3423404006287,12.683192146197,13.2694795124233,8.99742790609598,12.9715811144561,11.2329552609473,12.7454215493053,11.3970530265942,11.2437077347189,11.0126694800332,12.3045534135774,13.8120578838512,14.9353269757703,13.8745042527094,12.8887862261385,13.2812252065167,12.6402978861704,16.6602583160624,14.8215863356367,15.0860665231943,13.7818467048928,8.66511955801398,13.7729308404028,13.0123015075922,10.8567134732381,11.1376841330901,12.0637351742014,12.0738092845306,11.0748408121988,10.6332696324214,10.6227469965816,11.8151946324855,14.2389326959848,12.6744854193181,13.2283776756376,12.7918610557914,13.6960299642757,14.6229564331472,13.6183549216017,12.3707354582846,18.3206833882257,17.8965836307034,19.8519688231871,19.0651665486395,19.9522814774886,17.7195451492444,15.3294023854658,15.9411995083094,15.3130200272426,14.9159148991108,15.7405165003613,14.3016370672733,11.1021408595145,13.0385796908289],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.0135783266276,45.9861993443221],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.32028694470413,36.0297285403963],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"72197a1d74e3":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"72197a1d74e3","visdat":{"72197a1d74e3":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Marvel at what one can do here: * Get additional information by hovering your cursor over a point * Filter classes by clicking on the corresponding legend items * Click and draw a rectangle with your cursor to zoom into the plot</p>
<p>But there is one thing that bothers me. If I move the cursor across the plot window, then the plotly options bar at the top of the window overlaps the “class” legend label. Can I fix this by moving the legend to the bottom?</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-0785e72cbb5e363f6261" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-0785e72cbb5e363f6261">{"x":{"data":[{"x":[25.7903056101874,22.7720155455172,25.8284794168547,24.7718233393505,24.0747538495809],"y":[15.9529743781313,15.2578137861565,15.7039590280503,14.8251335514709,15.3110026558861],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.724928788282,28.9704796480015,30.9870998442173,30.013667422533,26.1297006333247,25.7661297576502,26.6709654502571,25.7243557645008,25.234310978651,27.8425210746005,27.01237438526,24.8217009508982,25.0989404488355,25.008470980823,25.2757840847597,28.8629731377587,26.9723513523117,25.3776418248191,26.7350541114807,24.893941555731,26.8087899804115,26.7782659891993,28.7125835966319,31.1348417585716,30.7956661624834,26.0982311692089,25.986617908068,26.8407520489767,29.8874387182295,33.1094608008862,35.0663404358551,37.3899824012071,34.6253319090232,29.0798843922094,26.1778162149712,28.7758668314666,28.9587741680443,23.9064012248069,44.1673328714445,29.2041312802583,25.786484862119,28.6570427166298,29.3539843713865,28.6049159254879,29.234054916352,23.0753620384261,23.9049132226035],"y":[17.8925527136773,21.0434985555708,20.0566824221984,20.7797578092664,15.8566655972973,17.906465687789,18.1920452861115,18.1096638107672,15.914330833964,20.2184331834316,19.0520088246092,14.9812959449366,16.6603707809001,17.0117103423923,14.7963213704526,21.3472724732012,19.2231777140871,20.2659301817417,20.0014320703223,18.7454678632319,19.6051431367174,20.7712979026139,20.678597587347,21.0977475687861,21.6747728412971,17.7587959086522,17.8635605735704,17.9026645092294,24.1314437408,24.2921842696145,26.1579096404836,27.9160452954471,26.3830583419651,20.8710483968258,19.3908748973161,21.3054976550862,22.2893820943311,16.8976055944338,32.6384669847786,21.3470540510491,18.6262985328212,21.6908325079829,20.7791306266561,21.0205695195124,20.96557775978,16.2032643554732,16.9247977515683],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.2555983712897,24.6040822522715,23.371383122541,27.0034436890855,30.0572004802525,26.19763076175,29.3192191230133,26.3487240821123,26.1579108137637,26.8603754129261,30.0338290737942,31.1186988372356,25.9212110605091,26.2972563639283,28.2321972277015,30.9625962115824,32.2083541858941,26.7559733318165,26.0697811299935,25.886404527165,24.6402083506808,25.1524827990681,25.8793717468157,26.2291478222236,26.6700634390116,27.762477626279,25.3831665214151,28.6695618882775,26.847571022436,31.0168790528551,31.189437921904,25.9454876946285,25.6025902045891,27.9157135605812,28.8411479506642,29.1027068309486,27.9518647195771,28.6615551384166,26.3473377369344,25.8242692114785,26.0169653160498],"y":[14.8953325880691,16.8613941550255,15.9748868260533,18.9327213149518,21.938785286434,17.8003435563296,18.2215826328844,17.2873896896839,18.2536358093843,17.6551160881296,20.8027632459998,21.098816501908,18.3068225651979,18.3760678159073,18.7016517814249,22.9853085631505,23.3630731543526,19.3577070601285,18.8130840901285,18.288644310832,18.9457038519904,18.6052193302661,18.3346564967185,16.0556796956807,17.1784807609394,18.0136647423729,16.0130138317123,21.1931421441957,20.6717505322769,20.9602813456207,21.0825330002233,18.2210282724351,17.8965382369235,19.1594599049538,21.2606941564009,18.3605714950711,19.0988465759903,20.7787920771167,16.3869063211605,17.8733189068735,17.3051611803472],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.2436659170315,24.359202904813,22.2927130788565,21.6395247431472,24.3332251219079,23.6545716894791,17.043558316119,22.0168799070641,21.0997491741553,22.9847903553396,23.1066487213597],"y":[17.8936534944922,16.7717906910926,16.3568065276369,16.3710069904104,17.0795188797638,17.1998922856525,11.1486384924501,15.1487537892535,15.1880150461569,15.819291770272,16.1008327728137],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.3583568325266,18.2769325692207,16.9181487351656,17.0696133704856,18.8893112622201,18.8054693585262,11.8810363415629,16.7790170403197,14.6656146453694,16.3778768775985,12.0871872410178,17.2905434036627,16.9100787121803,16.2522373348475,11.7570535618812,14.7224994767457,15.6161275539547,17.2823986206204,14.716796085611,16.9016562066972,16.6318993443623,15.9302804846317,16.3703092649579,17.1750570645556,14.6980415524915,16.9292621279135,19.9204504719004,20.1215052129701,21.6503010740504,16.8861210213974,19.0717437360436,18.1419879853725,19.8400860490277],"y":[14.7295976221561,14.3320175599307,13.1952973082662,13.9308224350214,13.7267280444503,13.6049826210365,9.34319850876927,10.7924947576597,11.1047369290143,12.3111292077228,9.00742958355695,12.7434799160808,12.8084746748209,11.6380962213501,8.65005658529699,10.6992341427132,10.7474580323324,12.7258022835478,11.315518155694,14.3592338424176,13.9373520370573,13.1998262356967,12.7819824483246,13.0008134597912,10.7719239370897,12.8659474952146,15.108105465211,16.3423550032079,16.9516295347363,14.950253107585,15.076066827774,14.857013063319,16.3688839668408],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[25.8935357488692,24.6959489177912,26.3180492438376,24.1171588290483,21.1383844038472,22.2608585972339,23.2572645789012,21.6818498063833,19.9203718435019,32.6244409456849,32.2990269854665,32.1888898134232,29.3840117704123,31.7106283217669,34.26057099998,36.2090697463602,35.7892198365182,29.1157645413652,26.2127628112212,29.0714059002697,27.7466367535293,27.3105274077505,23.9137959979475,24.2375538367778,23.7496184593067,26.2496919317171,26.0498366693035,26.2489467319101,26.1783264232799,43.6482939757407,40.9841879181564,29.3277286468074,25.6443388776854,28.0356947027147,28.6215887466446],"y":[18.3697866076604,17.9550374550745,16.9909797791392,15.7147419596091,14.8646785231307,15.1604994056746,14.7017868565395,15.3466760832816,14.3527991058305,28.3964536949992,24.2804143967107,24.8218418613076,22.7763045856729,24.0913435688242,26.0189807074144,25.3012405248359,24.0394000533968,21.184145619534,19.2783406956121,19.0962403230369,20.275354831107,20.1169124964625,16.9880163259804,15.9446448933333,17.3009320730343,21.0393345892429,18.9082662863657,18.8189822979271,18.658237413317,35.3564461534843,29.3511660929769,21.2645823951811,19.3979247581214,20.1174187488854,20.1012118879706],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.3091032190248,15.2790488397703,20.3703400539234,17.3810272729024,16.8423634743318,19.3835723834112,13.8388772616163,15.1881354207173,17.0413506640121,16.7609218239784,17.1190051265061,11.7355996763334,17.0493059309199,15.8114099489525,18.2958289448172,15.2717469278723,16.6863698314875,16.7214604120702,18.2777986032888,16.7766986306757,19.1237342873588,17.0431228343397,19.3670286318287,18.8174412095919,16.9898404303938,22.1711793037131,18.8919789534062,20.2430439796299,17.002413056232,11.9920438395813,19.0097224371508,17.9596012409776,13.8668470673263,15.3242430800572,17.6162499936298,17.710286067985,15.330612295121,17.0033478451893,15.6541506493464,18.2786298984662,17.2800474211574,18.6895408738404,18.8552179945633,17.270839930512,17.0907003609464,16.8591266516596,19.8057328227907,17.663447930105,24.7717334317043,24.2040410630405,27.3312225403264,25.0476173084229,26.0616730352864,23.1455693056807,19.9815690508112,19.8115724381059,18.9053693961352,17.3639608250931,19.6069440536201,17.1897698886693,15.3386149339378,18.0861588282511],"y":[13.7484446803108,10.8615721555427,13.7718579838052,12.7553339023143,12.1281002700329,14.3343667589128,10.9567549252883,11.029571913369,13.7087988255545,12.6184138052166,12.8490829955786,8.67484060637653,12.8811033789068,11.1814123842865,12.8114169809967,10.7539191341028,11.0069294702262,11.3519716313109,12.0284768361598,14.3121612045914,15.1124715959653,14.2766966123134,12.9011145597324,13.2724121438339,13.3588166361675,16.819963551499,14.7453501764685,14.6218520930037,14.1381371498108,8.68833702858537,13.6211928056553,13.0973502412438,10.6101424060762,10.9536839462817,11.8574099281803,12.271274426952,10.7452520407736,11.045230272226,11.2352353159338,12.2972681432962,14.395872390829,12.9472908236086,12.9540135068819,12.749174339138,13.6933812800795,15.0185695521533,14.1117930771783,12.1784930326045,17.7306977668777,18.1908114098012,19.6711426123977,19.0062425144017,20.3974551795051,18.1306399008259,15.1892794370651,16.3103401536122,14.6347063351423,14.6028540583327,15.7258252132684,13.8871904157102,10.7522423923016,13.1873408582062],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.1140130165778,45.7889195312001],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.31473710688762,36.6917656318937],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"72192dad36d":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"72192dad36d","visdat":{"72192dad36d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Hmm, it appears that the legend cannot be moved by this. Do other changes in <code>theme()</code> get registered? Let’s check by applying a theme.</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme_light</span>()</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-59b7c3386f75a5505251" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-59b7c3386f75a5505251">{"x":{"data":[{"x":[26.3355590315536,23.3730991750956,26.3640181591734,25.0560925496742,24.2395889230073],"y":[16.3005271265283,14.8210403660312,16.3278349801898,14.8367961332202,15.0912929415703],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.7340359883383,28.7217941086739,31.300702884607,29.9993338009343,25.9415527816862,25.9488132653758,27.3587607592344,25.9794519448653,24.9679843803868,27.7085461612791,26.6907069081441,25.2388256844133,25.2836265092716,25.2602926276624,25.100198700279,29.0195182427764,26.9698545949534,25.2676637617871,27.0572213033214,25.3904203597456,26.894684083946,26.741929660365,29.3328294707462,31.2815153419971,30.6427401041612,25.9311769159511,25.9690923705697,27.306541531533,29.8431987794116,32.8605882713571,35.2286765361205,36.8833909053355,34.946163136512,29.3450942799449,25.8161223532632,28.7142714669928,28.8878705056384,24.1212451709434,44.3519574277103,29.2474068671465,26.2638111626729,29.2077649055049,29.2883665183559,29.3426670700312,28.7810607157648,23.2337793482468,23.7485549638048],"y":[17.7063925117254,21.2573006758466,19.6888878632337,21.046761171706,16.3827280720696,18.1558230750263,17.7491731362417,18.3969509072602,15.827583819814,19.8335852822289,18.7198563016951,14.6607168354094,17.0391234625131,16.9461756547913,14.9248674012721,20.9695845821872,18.7605908730999,19.6910885727033,20.1923965511844,19.0931081077084,20.386661603488,20.7166887035593,21.3092614935711,20.7131266932935,21.7484455436468,17.7701205966994,17.7177849736065,17.8434285543859,24.3219132650644,24.0801332268864,26.0051152683794,28.1020586704835,26.2283642990515,20.7098647557199,18.8584913048893,21.335573268123,21.893779938668,17.1622772030532,33.3052848609164,21.1173765037209,18.6137098638341,21.7911199947819,21.2105168003589,20.6176042886451,20.6985684100538,16.1308380087838,17.3352070363238],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.6329453522339,24.7579262996092,23.2787697393447,27.3547739192843,30.3923404786736,26.2679289139807,29.3339575799182,25.9769872751087,25.7607941506431,26.8167088592425,29.632566943951,30.7123086487874,25.774681802094,26.0980370478705,27.6909693116322,30.7951051849872,32.0298643231392,27.1267692666501,26.0812606045976,26.15206419155,24.8853647476062,25.3749390119687,26.0463496237993,26.0048875695094,26.7281588194892,27.7217905253172,25.3015911825001,28.8328772351146,26.8058625781909,31.3650551240891,30.9329321688041,25.6886373227462,26.0769663730636,28.2451750835404,28.7625946566463,29.0630786115304,27.8710976347327,28.813647621125,26.1775991935283,25.9991230661049,25.6763870345429],"y":[15.1750575207174,16.9530628243461,15.9445871945471,18.7970860058442,22.1506891006604,17.9787300663069,17.7672012401745,17.1763493938372,18.0962234374136,18.1641729559749,20.6514299873263,21.0531769197434,18.3730337943882,18.080840385519,18.7870416713879,22.7723210738972,23.3023116132244,19.3420534387231,18.9941494600847,18.1146493680775,19.366179189831,18.9662405876443,17.6782832628116,16.3857433158904,17.3170366775244,18.238888435252,16.2346820145845,20.8971966784447,20.689024127461,21.0086116485298,21.3584908509627,18.3523897666484,17.8355348201469,19.1138653956354,21.2982556372881,18.1353243097663,19.0314715303481,20.8000187944621,16.2129601271823,17.90968870949,16.8716311719269],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.8489729536697,24.3604032695293,22.0584659794346,21.7110626654699,23.7793589415029,24.1284649441019,17.0710755046457,21.9112343257293,21.3569576889277,23.197562577948,23.2070893382654],"y":[17.7302889848128,16.7677385279909,15.7400826007128,15.9502443332225,16.9170506434515,17.3731614518911,11.0592775098979,14.6545075781643,14.7209462793544,16.1307121740654,16.2908007765189],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.1182721333578,17.6743571635336,16.6190238054842,16.6759339181706,18.734481533803,19.0809512384236,12.0525845497847,16.9421937316656,15.3392635326833,16.2031945023686,12.0886588163674,17.3336935445666,17.0386523714289,16.2558209206909,11.6084295708686,15.2682819476351,16.0080892613158,17.1287274956703,14.813976591453,17.2917595926672,16.8994054613635,15.6347428491339,16.2104250442237,16.6639959849417,14.8013170378283,16.6788831314072,20.0752073047683,20.2666966823861,22.3372947504744,17.2474221426994,18.9147849367931,17.703895402886,20.0425748551264],"y":[14.7458430364728,14.2197750238702,13.1442899050191,13.7606131505221,13.8659784348682,13.8172450581565,9.08810597993434,11.3318341933191,10.7662242056802,11.6652138791978,9.18083417005837,13.2340568184853,13.0556570526212,12.232337840274,9.07302157245576,11.0128617910668,11.2144112858921,13.2228968428448,11.2454743418843,14.2406863706186,14.0373030656949,12.7209703655913,12.9666012320668,13.0709492061287,11.0018705789,13.3306470649317,14.8978470051661,15.7226485708728,16.6037737129256,15.0696185875684,15.1071507805958,14.7468351101503,15.9659889299423],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26.357686067,24.9210017748177,25.9575955959037,24.0748652776703,20.7399397145957,21.7992988115177,23.3886509237811,22.0970394041389,19.8399323558435,33.3404215412214,32.1186618866399,32.1794288137928,29.232413193956,31.9933812232688,33.8637546440586,36.0406721832231,35.8926976108924,28.6996240084991,25.8607175372541,28.7612527053803,28.2755909025669,26.6656059043482,24.1685108473524,24.1643206479028,24.0564245868474,25.7952744593844,25.7407927026972,26.1017528157681,25.9194024927914,43.8431004822254,40.697829076089,29.3716976484284,26.2514676697552,28.1860246833414,28.9150268247351],"y":[17.9938168056309,18.2813110269606,17.3701203411445,15.6289183104411,14.8441554090008,14.647615233995,14.8053006984293,15.2455387342721,13.9871564500034,28.0093806557357,24.2753268631175,25.2239633718506,22.7177562419325,23.7429188201204,25.898599293083,24.6047522269189,23.6660272676498,20.7264757579193,19.0423780689016,19.3054008901119,20.0147613240406,20.0423244575039,17.1498739551753,15.6890879165381,16.6665446491912,20.6959059638903,18.8407507847995,18.8540971228853,19.180408109352,34.639322324656,29.2406221233308,20.8345493672416,19.2269277147949,20.3280475491658,20.1171301949769],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.2246591240168,14.6120045056567,19.6757721681148,17.1163446394727,17.0751340841874,19.2787192890421,14.1376402424648,14.633552310057,17.1152366952971,16.6141115352511,17.2728946514428,11.8256080474704,17.344704359211,15.8101591154933,17.6673562135547,15.1656042506918,16.9290307033807,16.6721341088414,17.6144727703184,17.2199556604028,19.0232870506123,16.945005469583,19.361912689358,19.0070785423741,17.0546432837844,22.2153447208926,18.6172741742805,19.9093632176518,17.0186070403084,12.3622028725222,19.0966147018597,17.6721117410809,14.0215316042304,15.3039269298315,18.3563990755007,18.2575877916068,14.7680421331897,17.2868508726358,15.9082000536844,17.644700352475,16.7359863810241,18.6821053331718,18.7759814256802,16.8326654940844,16.66041830834,16.9991637865081,20.2675909178332,18.1460244724527,25.2941011788324,24.3421280765906,27.1021663567051,24.7307261690497,25.8191535426304,22.9826322741807,19.8024240249768,20.3407321775332,18.863416797854,17.3133094757795,19.9831685164943,17.2959838801995,14.9688097769395,18.2970331152901],"y":[13.7277523353696,11.1953306164593,14.2128535207361,13.2357897311449,12.2327608531341,14.2858180511743,10.6014334507287,11.0750248057768,14.2885380292311,13.3820899685845,13.248404815048,8.62754036746919,13.3539160102606,11.1617912663147,13.0909472156316,11.0666233902797,11.0127015372738,11.1395274795592,11.6470121698454,14.3632585637271,15.3442520437762,13.9284663185477,12.952740688622,13.1115463927388,13.3337575897574,17.2097469609231,15.1879232829437,14.8815233221278,13.9206351323053,9.12256789878011,14.0309310125187,13.1996788520366,11.3622326396406,11.2246586566791,11.9432113396004,11.8305980341509,11.0014723589644,11.260626314953,11.3821482239291,11.7022776810452,14.3077624171972,12.9306835956872,12.6031851122156,13.0767322529107,13.6097508916631,14.9313781637698,13.9526921166107,12.0517710095271,17.7521099474281,17.6870117483661,19.6274860767648,18.6370778590441,19.7066828595474,18.3849385354668,14.7251380288973,15.8929997041821,15.3422512948513,14.8004285246134,16.2396413603798,13.9430293980986,10.6733143854886,13.2697931824252],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.97125317802653,45.9891338205524],"tickmode":"array","ticktext":["10","20","30","40"],"tickvals":[10,20,30,40],"categoryorder":"array","categoryarray":["10","20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.32695126960985,35.9399114225153],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"7219158cc15c":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"7219158cc15c","visdat":{"7219158cc15c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Apparently, at least some changes will be conducted. Let’s see, if I can use <code>layout()</code> as shown in the <a href="https://plotly.com/ggplot2/getting-started/#cutomizing-the-layout">getting started documentation of plotly</a> to move the legend.</p>
<p>The R documentation of the <code>layout()</code> function is somewhat minimalistic. Basically, it refers to the <a href="https://plotly.com/r/reference/#Layout_and_layout_style_objects">online plotly reference manual</a>. Using the table of content on that website, one can easily find the <a href="https://plotly.com/r/reference/layout/#layout-showlegend">layout options</a>.</p>
<p>I believe the options <code>xanchor</code> and <code>yanchor</code> are exactly what I need as both of them can be set to options like <code>left</code>, <code>bottom</code>, etc. Though, I wonder why the value <code>auto</code> was not changed by <code>ggplotly()</code> as the initial plot <code>p</code> contains <code>legend.position = "bottom"</code>.</p>
<p>In any case, I am not a hundred percent sure what kind of syntax <code>layout()</code> requires. An example in the R documentaion would have been nice. Well, let’s try the straight-forward approach then.</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">xanchor =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Well, that didn’t go as expected, but the warning displays valid attributes and <code>legend</code> is among them. Upon closer inspection, I also realize that, according to the reference manual, <code>xanchor</code> and <code>yanchor</code> have parent <code>layout.legend</code>. So, I guess, I will have to use this somehow. Maybe, pass a list to <code>legend</code> via <code>layout()</code>?</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">xanchor =</span> <span class="st">"center"</span>)) </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-b42605121f679c6eeee5" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b42605121f679c6eeee5">{"x":{"data":[{"x":[26.0116849495098,22.6237717179582,25.764897194691,24.7371929964051,23.8205849638209],"y":[15.9151560271159,14.7695724092424,15.8274023495615,15.2717442942783,15.1872410682961],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[29.0609631571919,28.6598140018061,31.264850147441,29.7955284958705,25.7603842385113,26.387763306126,27.2011927070096,26.3939691012725,24.6452831687406,28.1710186712444,27.0585325989872,25.3702758647501,24.7907761607319,25.1145751098171,25.2891842776909,28.886712625064,26.6833219124004,24.9273486603051,26.6809077559039,24.8191292094067,26.9864416213706,27.3163421697915,28.6164192557335,31.0239972036332,30.7583003414795,26.1627913635224,26.2399363145232,27.0817368352786,30.1973427133635,33.0178896408528,35.104985790886,36.931118880026,34.8320832829922,29.2592419141904,26.1907465649769,28.9424662929028,29.1225669665262,24.2298248305917,44.3293394520879,29.2225732719526,25.8875045867637,28.8889495171607,28.683142214641,29.3616826085374,28.6619365908206,23.328050301969,24.2873944228515],"y":[17.912205193378,21.2015896197408,19.9401069276035,21.1911655316129,16.1068883826956,17.8962458919734,18.3880851209164,18.2899750938639,15.7480921082199,20.1218889269978,19.2010145831853,14.9806271780282,16.6907661059871,17.2774514913559,15.0127597883344,20.6757658353075,19.1212106969208,20.1316457921639,19.870496330969,18.919733703509,19.89152846504,21.1174947414547,21.2891903510317,21.3071631092578,21.6248027294874,18.2128070713952,17.749705696851,18.2348915128037,23.97567767445,23.6063714887947,25.770990883559,27.7448031296954,25.912830186449,20.9438679151237,18.6515826465562,20.6395484717563,21.8801758730784,16.6281388716772,33.0066957008094,20.977200935781,19.3391752598807,21.7142851587385,20.8794595830142,20.802975464426,21.0420863259584,15.9012444913387,16.9337640242651],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.739405117929,24.9863436045125,23.1137838644907,26.984055464901,30.2399207925424,26.0286823490635,28.7771958524361,26.3792720368132,25.6439279600978,27.0629452995956,29.9625503279269,30.7169819297269,26.3956023121253,25.6020639559254,27.6755129795521,30.6900767732412,32.2940501049161,27.1637821085751,25.9690543666482,26.0464723408222,24.9695115808398,25.3347975391895,25.8669805431738,26.3331540420651,26.9665501050651,28.3990229105577,24.8887281961739,28.6771436873823,27.2737194543704,30.8497486613691,31.2905798854306,25.8078788356855,26.0177438646555,27.9054394301027,28.9977337477729,28.7048018604517,28.1371131407097,28.7516190700233,26.3441517263651,25.8559333633631,25.6996576638892],"y":[15.022048461996,16.8579029988497,15.9064679833129,19.2769319031388,22.3301289942116,18.0843960059807,17.7433783359826,16.9773244637996,18.3504334012046,17.7464179934934,20.760933694616,21.239400902018,18.1088039558381,18.3589997116476,19.3436212750152,22.8758857229725,22.714402343519,18.8956364713609,19.3149520915002,17.8892306659371,18.7866886405274,19.3524536162615,18.3014682283625,16.1494493432343,16.6086946543306,18.3174421261996,16.3107696743682,20.7030160496011,20.6183781761676,20.6312486384064,21.0467564517632,17.6626913264394,18.3630574088544,18.7774163652211,20.6188094941899,18.1238359356299,18.7068416809663,21.382617842406,16.2220370823517,17.6837108129635,17.0286895250902],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.26179895401,23.8410007026047,22.3866170071065,21.9840914119035,23.6728670729324,24.2067316127941,16.6818303121254,21.748536785692,21.3150423493236,23.0413119241595,23.386277564615],"y":[17.7181684762239,16.8177860418335,16.0826957812533,15.6603915033862,17.0084212016314,16.8606367437169,11.2103579238057,15.1343600587919,15.3662633063272,16.0946287015453,16.0161679346114],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.3834068035707,17.8598134886473,17.0798357564956,16.7321897964925,19.074383925274,18.9106077449396,12.1885633213446,16.7867620062083,15.0635120410472,15.7517741043121,12.1934213111177,16.6898730784655,16.9189279137179,15.7989672876894,12.3050363890827,14.9477998664603,16.0297919960693,17.358907046169,15.1299764785916,17.020747266151,16.7831180801615,15.7599116364494,16.0153801940382,17.0111683728173,15.3782199617475,16.9201131481677,19.8463108254597,20.1142627129331,21.7337177319452,17.0980748455971,19.2432869048789,17.819368680194,20.1874263642356],"y":[15.2282542226836,13.9378468856215,13.1511700036004,14.1160236217082,13.7898566707969,14.1264911139384,9.28551123477519,10.8774960203096,11.3453003942966,11.621932435222,9.22070240806788,12.7228215653449,12.920366477035,11.6817293837667,9.32092038076371,11.2323036337271,10.6026885472238,12.7621143836528,11.052631095238,14.3970494123176,13.7653344428167,13.1082617068663,12.714839704521,13.080237388052,10.6064092664048,13.162492001988,14.8288141084835,16.1311535678804,17.002991447784,14.7973497902974,15.1411930952221,15.1787119742483,16.2168083282188],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[25.7685987092555,24.6210816347972,26.0966955531389,23.9240264613181,20.92563242428,22.029207027331,23.1217450788245,21.7509111825377,19.8448396371678,32.9617680974305,31.880621526204,31.8104016724974,29.3150988450274,32.1653952518478,33.8698308326304,36.2319706512615,36.0757341977209,28.9791588775814,25.6130513262004,28.6476282989606,28.0101098399609,26.925314669311,23.9733760751784,23.8947227843106,24.1262820756063,26.2349742092192,26.317323214002,26.3141138436273,25.815545138903,43.8525195904076,41.0885706970468,29.3392933879048,25.8611307162791,28.1119971612468,28.6596962867305],"y":[17.8790796305984,17.6311778688803,16.7683179760352,16.1764981390908,15.2581782478839,15.3141866393387,15.3262748103589,15.1037987960503,14.2301698910072,28.211952235736,24.093910032697,24.8360250469297,22.8345252282917,23.8434222713113,25.9495290724561,24.7129521731287,23.8671175653115,21.3914933232591,19.1728735662997,18.9639612840489,20.1612644856796,19.8622724726796,16.7668191341683,16.0246962592006,17.2993721764535,20.9175135478377,19.3397230809554,18.8841482803226,19.3894518228248,34.768831470795,28.7984741771594,20.6725125199184,19.2545888436958,20.088751145266,19.6796641271561],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.8468293478712,15.2994695132598,20.2401945205405,16.9023437917233,17.3388787996024,18.6442550294101,13.7593952007592,14.8182046163827,16.8319866623729,16.6286323038861,17.292328967154,12.1216770103201,17.2945156395435,15.7260327145457,18.2990186499432,15.2913430254906,16.8962380837649,17.3960412088782,17.916540745832,16.9717301024124,19.1716399334371,16.7603177098557,19.0896730398759,19.163464123942,16.8187494080514,21.9908434417099,19.3817542588338,19.8049455933273,17.1951724065468,12.2294062811881,18.8250279899687,17.8338151266798,14.2700028875843,14.7728223528713,17.8140360204503,18.3325814669952,14.7534357981756,16.6340647542849,16.1250715706497,18.2535226320848,16.755544863455,18.9613490428776,18.891640223749,16.6739359928295,17.3709119550884,17.1571521781385,19.8591869333759,18.126815651916,24.8591765984893,24.2574459448457,27.2118462199345,25.2862076947466,25.6844578852877,23.2975249700248,19.9903906559572,20.1154328024015,18.6296841816977,16.9906655624509,20.047744663991,17.0225034834817,14.9641694018617,17.611518708989],"y":[13.851163014397,10.6049686832353,14.0387935139239,12.8074899321422,12.285000945814,14.3187174363062,11.2743985190988,10.8300436072052,14.1586513606831,13.1473725194111,13.3396540921181,9.03993601053953,13.3070868883282,11.0751147190109,12.8861603569239,11.2427730137482,11.3302704352885,11.3148448005319,11.7250625401735,14.1888448191807,14.789858045429,14.1644080867991,13.117273818329,12.6890789356083,12.7976637622342,17.3208457050845,14.9371472384781,15.326429431513,13.7132696531713,9.37261504139751,13.8227764042094,12.8273381119594,10.8238321876153,10.9376985542476,12.3865089837462,12.1737722998485,11.3034718217328,11.1184774778783,11.1297355508432,11.8034213166684,13.6215676173568,13.0180067034438,12.7673460686579,13.0762120932341,13.8627658244222,14.7703238826245,13.6900332149118,11.6092559557408,18.0588973080739,17.92604475189,19.7984254844487,19.3818804236129,19.97773156818,17.8346593189985,15.1518263386562,16.2748082626611,15.056772082299,15.1857747444883,15.760522980988,14.3393394954503,10.7841240057722,13.0799351796508],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.5112938882317,45.9397225741763],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.75349123752676,36.0552762438078],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"xanchor":"center"},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"721928d69cbd":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"721928d69cbd","visdat":{"721928d69cbd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Aha! At least this did not crash again but the resulting plot does not look as I would expect it to. Let’s see what happens when we change <code>yanchor</code> as well and then we’ll go from there.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">xanchor =</span> <span class="st">"center"</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">yanchor =</span> <span class="st">"bottom"</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  )) </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-904cc7d2cedb8594cf0c" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-904cc7d2cedb8594cf0c">{"x":{"data":[{"x":[26.2124764177948,23.2846341574565,26.1367076698691,24.9606422847137,23.7336195057258],"y":[16.1555412968621,14.6954630786553,16.0938621137291,15.3904577139765,15.1194882504642],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.7458036707714,29.3203528119251,30.7786963002756,30.3973918469623,25.9489538218826,26.3310164378956,27.2647509017959,26.1849016422406,24.7997567297891,27.7918092306703,27.353700886108,25.1839512061328,25.1975828189403,24.7961830738932,24.7462900560349,28.8162384558469,27.2552447307855,24.8508099243045,26.8383242089301,24.910116475448,26.6004162967205,27.2994116080925,28.7118740906939,31.1240445308387,30.824476647377,25.6880906585604,26.3491419266909,27.0207060376182,30.3789398301393,32.6156058698893,35.3405557716265,37.1566042557359,34.814877971448,29.3191884558648,26.2673412673175,29.1168495869264,29.3201869452372,23.6551277838647,43.7723994165659,29.3514427287504,26.091968228668,28.8477036667988,28.8413069039583,29.3059585114941,28.746331879124,23.2748384037986,23.7920315658674],"y":[18.2291476711631,21.341550289467,20.2929168529809,20.960137601383,16.3271322496235,17.9380913726985,18.035526743345,17.825762809813,15.8590636493638,20.2218319764361,19.055670247227,14.9342757271603,17.3928670009598,17.1229896424338,15.2118932463229,20.626541743055,18.8482247643173,19.8864667201415,19.6581099322066,19.1343918997794,20.1307452958077,20.752849127166,21.2190500481054,20.7259335123003,22.1494803413749,18.3855093918741,17.997884724848,17.9569469412789,24.0509864557534,24.192582924664,26.0292808866128,27.797951101698,26.3601042252034,21.1423883037642,19.0003703512251,20.8833935471252,22.2015381289646,16.7719216432422,33.122388451919,20.8338039711118,19.3851037906483,22.1761275961995,21.058008476533,20.7131660383195,20.7186595382169,16.2874315565452,16.6454750522971],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.9184227567166,24.6677407542244,23.3806077189744,26.7427533149719,29.8404921697453,26.19878013134,29.3231266936287,26.1243397334591,26.3200796745718,26.7880498666316,29.6759303564206,30.7844220321625,26.251759724319,26.2121940854937,28.3694229790941,30.9843194359913,32.2708892995492,27.3663165284321,25.8252775348723,26.2092701353133,25.316357793659,24.802197769843,26.1488095767796,25.6986135726795,26.7818746341392,28.341472505033,24.8721215292811,28.6723029619083,27.0786428973079,31.1930865805596,30.9523560347036,26.3554725255817,25.8872422246262,28.3836976505816,28.8926691364497,28.7992389164865,28.0982319163159,28.96742325183,25.6575549000874,25.99118703641,25.8467972885817],"y":[15.0840957667679,17.0448081290349,15.826607846655,18.701280996576,21.7145266760141,17.7722667632625,17.8084078865126,16.9232561254874,17.7161628449336,17.6205793881789,20.955717247352,21.3753798380494,18.2981355059892,17.9655442973599,18.7315228415653,22.801216632314,23.3458248818293,18.8842742690817,18.9368077710271,17.9778333770111,19.2477414317429,19.2805679807439,17.8308378562331,15.7013916179538,17.0466719886288,17.8765666577965,16.1970427354798,20.6826861649752,20.7840270759538,21.1459424616769,21.1078209541738,17.8206404624507,18.3783792907372,19.2248169826344,20.868130354397,17.9925113435835,19.3121276544407,21.3484752207994,15.8747244512662,18.120862833038,17.2520714016631],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.051264728792,24.1255426134914,21.705296205543,21.8368374237791,23.7008442861959,24.377963353321,16.684826679714,21.7731261465698,20.7236892368644,23.3612949177623,23.1095600700006],"y":[17.6476474745199,17.093260689266,16.2718155469745,16.2207451527938,16.7433715701103,17.1077295830473,11.262403807044,14.9962289938703,14.824997545965,16.382540643774,16.3782873665914],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.7596735635772,18.3314154367894,17.2169217810035,16.9105314524844,18.6173465928063,19.0190549841151,12.3841957585886,16.735080139339,14.689954422228,15.8909724524245,12.2371385032311,16.7747636767104,17.043150938116,15.8575855635107,11.6810039591044,15.0928116947412,15.7180038271472,16.7655479485169,14.7181271908805,16.6099153747782,17.3169119577855,16.1686744052917,15.615573859401,17.0876679554582,15.2757129084319,16.8349908675998,19.7898183353245,19.6427815224975,22.1764695921913,16.8197107700631,18.9267988270149,17.6466644989327,20.3591402517632],"y":[15.1066210698336,13.7797246774659,12.8248665886,13.8419885359704,13.7161670953035,14.3499038910493,9.36117051746696,11.2946344446391,11.1907247485593,12.3897080274299,9.14631563350558,12.952514070645,12.6420773705468,11.9159385917708,8.97828091215342,11.1780777959153,10.611885814555,12.6979585612193,10.8437255825847,13.8252912219614,13.6751964064315,12.9787230918184,12.9722097314894,13.3358650172129,11.3954892851412,13.1808542406186,15.1532386070117,16.3733052615076,16.8084368065,14.9542173288763,14.6811217620969,15.3552569147199,15.6917519256473],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26.1025984909385,25.121736212261,25.8504584001377,23.9875035949051,20.6369039034471,22.3163729222491,22.6464455626905,21.9890482772142,19.7178128102794,32.6520916145295,31.8745758548379,32.1907163985074,28.6346500309184,31.6180774323642,34.1116904228926,36.090818349272,36.0105215040967,28.6064881343395,25.6400744058192,28.6993640175089,28.395393049717,26.971783917211,24.0280104452744,24.0355184398592,23.9104820623994,25.705721792765,26.3410961892456,26.0404886111617,26.2983558896929,44.0269527442753,41.0018501130864,29.1050629921257,26.134281780757,28.3253859788179,29.1400485897437],"y":[17.7310026932508,17.9329326998442,17.2933676106855,16.3815357301384,15.1691216630861,14.9669684901834,14.9155168432742,15.2340279810131,14.1171266542748,28.2519527764991,23.8512784574181,24.7525136848912,23.2447075285017,24.2634220074862,26.0568644858897,24.6196935828775,24.0090722577646,20.6126850027591,18.8920559549704,19.323534799926,19.6316662423313,19.8894139293581,16.7358497420326,16.1497946465388,16.8171135118231,21.2324576033279,18.8451794913039,19.074895064719,19.3486907264218,35.1069474810734,28.9178699217737,21.35221622549,19.289853926748,20.2174615660682,20.0966052418575],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.0037031421438,14.706725429371,20.2626991696656,16.6735627828166,16.8392110910267,19.2325057800859,14.323632818833,14.9733685774729,17.2468974875286,16.6096536530182,17.1276807770133,11.7873919246718,16.8461248595268,16.2697353580967,18.0018149986863,14.9205664534122,17.2128178240731,17.2847774848342,18.1697419729084,17.0247547687963,19.193264327012,17.1924591850489,18.9227077776566,19.0932397132739,16.9980279047042,22.0207871574909,18.9233574314043,20.1484056999907,17.248780881241,11.9736802099273,19.065258442983,18.1202031100169,13.7862653257325,15.0338599298149,17.7697312166914,17.8500564426184,14.7785847214982,17.346151124686,16.2521541306749,17.8341765318066,16.7833869088441,18.7215338513255,18.9461821848527,17.298640514724,16.7954411290586,16.9092163400725,20.1910501250997,18.1076821202412,25.3224460119382,23.9680260108784,26.8514601839706,25.2682574752718,26.0754399413243,22.7695364540443,20.3662471782416,19.9736753884703,18.6344332428649,17.0056098623201,20.2053825233132,16.976948966831,14.8778016502038,18.1859664179385],"y":[13.8635982135311,10.9790799910203,13.6168155539781,12.6236183237284,12.0869628719985,14.1669690702111,11.1434785185382,10.7963826229796,14.3802195806056,13.1976162627339,12.9091973977163,9.2981112331152,13.0631276836619,11.3053293325007,12.6611965680495,11.1765779031441,11.0163750773296,10.8088998500258,11.8076552422717,13.6787722498178,15.3755964498967,14.3803029013798,12.9010387230664,13.1681484229863,13.3200268980116,16.9967369273305,14.7150129271671,14.9448101712391,14.3365486538038,8.8258499044925,13.659523906,12.7503383336589,11.2950753044337,11.221223934181,11.8620181040838,11.6237539809197,11.1977009978145,11.3317039161921,11.1746936151758,12.0248803526163,13.6362469600514,12.9442657889798,12.8255066469312,12.9678264148533,13.7188402676955,15.2852309912443,13.7536479391158,11.8624260473996,18.3057177320123,18.1657037489116,19.6592346196994,19.2239710792899,20.2564520297572,18.2123980266973,15.3667543584481,15.92998845689,14.7882762299851,14.6141491854563,15.7873575706035,13.6231633724645,11.0858650252223,13.076134111546],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.0637065198459,45.6442501835339],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.51179502566345,36.4210023599025],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"xanchor":"center","yanchor":"bottom"},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"721928427895":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"721928427895","visdat":{"721928427895":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Unsurprisingly, this did not help at all. In retrospect, I don’t know how I could think that changing <code>yanchor</code> as well would magically cure things. Again, referring back to the manual (I should really read the descriptions instead of relying on the possible values), it appears that <code>xanchor</code> only sets a reference points for the option <code>x</code>. Same thing for <code>yanchor</code> and <code>y</code>.</p>
<p>So, how about changing <code>x</code> and <code>y</code> instead? Possible values for both options range from -2 to 3, so my best guess is that ranges from 0 to 1 refer to the window the points are plotted in. Consequently, moving the legend to the bottom could be as easy as using a positive <code>x</code> value and negative <code>y</code> value which are both close to zero.</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="fl">0.1</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.1</span>))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-01a1de0b95d92f3a5f1d" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-01a1de0b95d92f3a5f1d">{"x":{"data":[{"x":[25.8065533364192,23.357402985543,26.0340004431084,24.6403189495206,23.9189536860213],"y":[16.1997626233846,15.1286145728081,15.9393832176924,14.7625013981014,15.1011037988588],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.8436050487682,28.7538943830878,31.1184240596369,30.0465153295547,26.3766651758924,25.8294393500313,26.6397865835577,26.1453390672803,24.7058661801741,27.6516313340515,27.2589234866202,25.3777883091941,25.2505093209445,24.6656728059053,25.2158494476229,29.0031592460349,26.9094007140026,24.6923942120746,27.0142558651045,24.8493411913514,26.6778621064499,27.2108153207228,29.2222385657951,31.1509230477735,31.0039531700313,25.6315207410604,26.3028746176511,26.6304194767028,30.2880857272074,32.6361487356946,35.1245068240911,36.9806497715414,35.0788164110854,29.012760065496,26.0033549297601,28.7787961667404,28.9584521895275,23.6463036894798,44.0238277019933,29.2527216700837,25.9911295128986,29.3302833393216,28.6934574158862,28.7248170094565,28.8516855340451,22.8165612190962,23.792663435638],"y":[18.2772451482713,20.9550348352641,19.7667352214456,21.2583109207451,16.0168614856899,17.8392328931019,18.018046647869,18.367285098508,15.8644716622308,19.9856536399573,18.9622812930495,15.3572263879701,16.6256309583783,17.19916504547,15.0064800936729,21.3303754515946,19.1255633018911,19.9924301389605,20.1265630856156,19.2883501060307,20.140886050649,21.138662016578,20.6700966509059,21.3662458719686,21.6065145144239,17.6189902000129,17.9807238079608,17.6736461190507,23.9368419151753,24.1580472256988,25.9550680443645,28.0484825529158,25.9971133273095,20.9227969309315,19.2054412387311,20.8023183070123,22.251679161191,16.605408048071,32.7195302102715,21.18035538923,18.7218009257689,21.8038337036967,20.9043248001486,21.3321810076013,21.1150207150728,16.1771799407899,17.1663507986814],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.1369205892086,24.8641829775646,22.9081852836534,27.2676311256364,29.8005911588669,26.0582907767966,29.0105768170208,25.9243855595589,25.9181643780321,26.8488245178014,30.0023111708462,30.7997201610357,25.8445050058886,25.6972720488906,28.386252915673,30.7972171695903,32.3153513327241,27.093616717495,25.6798482401297,25.7909576494247,25.2900501871482,24.807504183799,26.1336989931762,25.6702994175255,27.3553604971617,28.1836694825441,24.8089501269162,28.9127851489931,26.6064175540581,31.2253144472837,31.0618302553892,26.1759172797203,25.7651075717062,27.8709165286273,29.2153279721737,29.302011291869,27.6523407461122,29.1795029902831,25.9835651502013,26.0854734579101,26.0234080698341],"y":[14.9260633170605,17.3540187396109,15.8770768672228,19.0898933593184,21.9379746548831,18.0642828885466,17.6514256898314,16.7063938435167,18.0299041092396,18.3559706343338,21.3075743071735,21.1525129396468,17.8866450512782,18.293136918731,19.2484586959705,23.2150792879984,23.2714181970805,18.9736329818144,19.0653846433386,18.3221196774393,19.231904198043,18.8425102965906,18.3563484009355,15.7764721428975,16.6867723630741,17.9031279342249,15.7010800546035,20.9978547586128,20.9780564168468,21.3833214789629,21.1983194515109,17.6010632069781,18.1463090278208,18.7713852148503,20.6009681474417,17.9234550429508,18.6138336876407,20.9393776774406,16.2957552924752,18.2321974894032,16.828707818687],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.6615713955835,24.3541861239821,22.2953165883198,22.0648772383109,24.1893124794587,24.3423702482134,16.9554016375914,22.1580788852647,20.627163542062,22.7596715955064,23.1630818257108],"y":[17.6520819814876,17.3302231842652,15.7519885923713,16.0404765926301,16.6856727004051,16.8573990240693,10.9814974317327,14.9065430881456,15.1624931346625,15.9243633940816,16.1057926539332],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.3980000803247,18.0085005654022,17.200642153807,17.3099031709135,18.9522765930742,18.6808295840397,11.7187923867255,16.9425225170329,15.0070279894397,16.0323042266071,12.1500992929563,16.6494058467448,17.29539891202,15.7533437373117,12.0888707479462,15.3423402007669,16.1289927221835,16.6712430676445,14.9615782110021,17.1907294068486,17.2438196884468,15.7749735275283,15.6701532945037,17.0510034421459,14.8348332365975,16.7809042796493,20.3035770624876,19.7589606702328,21.893909303844,16.8314764816314,18.8198266278952,18.0761773489416,19.6096380565315],"y":[14.7895042441785,13.8328092435375,13.2853913186118,14.3058329759166,13.9852018179372,13.6675652869046,8.85844025332481,10.6371370783076,10.8555685151368,12.0515756327659,8.97529734987766,12.8547368930653,12.9351743750274,12.2080785809085,9.29868215881288,10.9852750232443,10.8505121538416,12.9944422461092,11.2340642837808,13.9745862733573,14.2140992298722,12.7613686462864,13.368013077043,13.1090460661799,10.7908219395205,13.2017372643575,14.9229858059436,16.0524227136746,16.8793165588751,15.3724191302434,15.0213666690513,14.8841756748036,15.9718824012205],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[25.964347730577,24.8912737939507,25.6667799547315,23.6055714027956,20.7403123905882,22.3369158916175,22.9338779326528,21.8550889689475,19.6136137191206,32.8513441175222,32.2415546065196,32.0827320320532,28.6909048361704,32.3166941769421,33.7105928825215,35.9985658373684,36.3594508735463,28.7146176405251,26.26931651216,29.1658346878365,27.7107725413516,26.7109544798732,24.2309780862182,24.1988850252703,23.6021377330646,26.0947035063058,25.8095520000905,26.3927924398333,25.9654825950041,43.7895921239629,41.1901026340201,29.2201820777729,25.6358667209744,28.1357262313366,28.6165534505621],"y":[18.3500003628433,18.236332873255,17.0699801333249,15.7158019967377,15.2568145392463,14.8047284450382,14.8254076948389,14.976285533607,14.2842219106853,27.6021619485691,24.3344595855102,25.2830445440486,23.0596775481477,23.6144488381222,26.0316238887608,25.1717812947929,23.9814276237041,21.2202190764248,18.7555595781654,19.2093996305019,19.9848918590695,19.7524899026379,16.9013868065551,15.9838987510651,16.8455176612362,20.9522402953356,19.058050073497,19.0718690156937,18.7027171703056,34.6410224912688,28.7284988792613,21.3443049732596,18.7412632606924,20.0054139912128,20.2106100250036],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.9600560011342,14.6090634729713,19.847041413188,17.3960603035986,16.8060511959717,18.8603796627373,13.6424338877201,14.6753846691921,16.9940452229232,16.6283225705847,16.8708590622991,11.9133472159505,16.9767889102921,16.0743627158925,18.1093173954636,15.1231255978346,16.963538846001,17.1773668266833,17.6971770524979,16.7455888031051,18.686485322006,16.8880525859073,18.6592280620709,18.8085525201634,17.2518528429791,22.3113063002005,19.1544429942966,20.0949051620439,16.6572790686041,12.1079134613276,18.8974795904011,17.9853720409796,14.0675826989114,14.9204456701875,17.6389483284205,18.3071042941883,15.2861782962456,17.0798628630117,15.6707183163613,17.9132622333243,16.6847367502749,18.9762680828571,18.7969227308407,16.737336291559,16.6805690269917,17.2911987608299,20.3925033714622,17.8662406189367,24.9718975223601,23.6287476090714,27.3958018444479,24.7024583429098,25.7781565189362,23.3200672451407,19.7816036948934,20.3607565680519,18.9136193847284,16.6992032812908,19.949063195847,16.8004500152543,14.6796502502635,18.1938533704728],"y":[13.7524677807465,10.923164931871,13.713561616838,12.9547357311472,12.3209918946028,14.0475766688585,11.3483833618462,11.1713868442923,14.2376169072464,12.7054893849418,12.8942017992958,9.31710521243513,12.6913223177195,10.8367209773511,12.6456360565498,10.6980468118563,11.0188886675984,10.7913222491741,12.3678304845467,13.7151395790279,15.2459384484217,13.6478223176673,12.9089746486396,12.8426278106868,13.3931020617485,16.7887152196839,14.9323879146948,14.8695820398629,13.9784624593332,9.12400523032993,14.1579138452187,13.1018685506657,10.7558549100533,10.8968622036278,11.6663473302498,11.7353592408821,11.0757389442995,11.1800107760355,10.7548237608746,12.3505083557218,13.8878844646737,13.1463543144986,12.7252753922716,12.6222801128402,14.3655536578968,15.0235885411501,13.9155164469033,12.2882768703625,17.6346125693992,17.7599395809695,19.999564803578,19.0919307172298,20.2633386066183,18.3692972855642,15.3099950009957,15.6227555105463,14.7176077578217,15.0540077382699,16.332754359208,13.8631524983793,11.2722344893962,12.9163998169824],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.1035406209622,45.6390794677567],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.56931114142761,35.930151603166],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"x":0.1,"y":-0.1},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"721927196648":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"721927196648","visdat":{"721927196648":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Now, this brings us closer to what I had in mind when I set <code>legend.position = "bottom"</code> in <code>theme()</code>. Possibly, we can change the orientation of the legend from vertical to horizontal, tweak the <code>x</code> and <code>y</code> values a bit and then we’re there. Scrolling through the manual (again), reveals that there is an option <code>orientation</code> which can be set to <code>h</code>. This sounds promising.</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">0.1</span>, </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.2</span>, </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">orientation =</span> <span class="st">"h"</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  )) </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-26137e04ec9d799eec13" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-26137e04ec9d799eec13">{"x":{"data":[{"x":[25.7927104098722,22.6755322733894,25.8309474216774,24.6181428382173,23.6782936288044],"y":[16.2223217191175,14.6386721465737,15.7269888347015,14.6187379892915,14.9910187035799],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.844095395878,29.1976460751146,31.1347791042179,30.3778195466846,26.207376524806,26.3850448429585,26.6271775240079,25.8501105297357,24.7601301839575,28.2306374093518,26.9274796180427,25.1021791759878,24.8688860137016,24.6338773116469,25.2935518417507,28.6697547858581,27.0831559496,24.9874957261607,26.9599701287225,24.9367716683075,27.3669667346403,26.7067198935896,29.1669543268159,31.1257971387357,30.7579454964027,25.7561623929068,25.8652867449448,27.1152042170987,30.175994883664,32.7104259844869,35.1290740834549,37.2278030019254,35.2628655718639,29.096558620967,26.196089637652,29.1640363086015,29.2592326533049,23.9869796115905,44.0152236981317,29.29753753189,26.0302760375664,28.9439809251577,29.2831269454211,29.2428669720888,29.3967675413936,22.9262406015769,24.2232918033376],"y":[18.3234365276992,21.3598371272907,20.2999448191375,21.0735952055082,16.1291650112718,18.1866744833067,17.7755635648966,18.2518863851205,15.9393169591203,19.8730228271335,19.2797523470595,14.97250551451,17.1242796102539,17.1133008271456,14.7397709488869,21.2808408096433,18.9090150589123,20.0214041948318,19.6064278747886,18.8111684614792,20.0853018378839,21.0475924380124,20.6496307462454,20.6583843728527,21.8062854927033,18.1051579510793,18.1964708510786,18.0245929302648,24.1343635926023,24.1008376695216,25.990675178729,28.2732628637925,26.105179666169,20.7521730141714,19.2668424068019,20.6429800758138,21.8727679019794,17.2973468016833,32.6469641651958,20.7978373808786,18.766073926352,21.733198050037,20.720102323778,21.3986012645066,20.7909463699907,15.8989523496479,17.2926810726523],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.8637790279463,25.3050158176571,23.0591881452128,27.3860754612833,29.8574543735012,25.8616997890174,28.9452918114141,26.3714673427865,26.071054427512,26.7197298308834,30.1612728150561,30.9705677794293,25.6477527694777,25.9621710933745,28.0043777892366,31.0904084095731,31.9313464926556,26.9090628355742,25.8432442680001,25.774811187759,24.9284709252417,24.8905024675652,25.9448493795469,25.8563041564077,27.3753679573536,27.7245172511786,25.2814254608005,28.7157406881452,26.8749062282965,31.0178506866097,31.30169693809,26.1155779505149,25.9795610517263,27.7745213134214,29.317832662724,29.3311585955322,27.6377807371318,28.6226357959211,26.3782493105158,26.2972448987886,25.9827140215784],"y":[15.3136010318995,16.7307547880337,16.0724446684122,18.6507491862401,22.2619955038652,17.962672008574,18.1851101417094,16.6288615565747,17.7585073783994,18.399694239907,21.0311506485567,20.7060663575307,17.7040594812483,17.7991714898497,19.0446565236896,23.0273706560954,23.0350510032848,19.3048851303756,18.6035289328545,18.0157517300919,19.1195640802383,18.6418194150552,17.707997084409,15.6535234736279,17.2098340325057,17.7450792871416,15.691595329158,20.6268109714612,21.0933429749683,21.2105821954086,21.0561851914972,17.9751590671018,18.1092161275446,18.6460478803143,21.3750430131331,18.0435314640403,18.7995806923136,20.8355842577294,15.796228175424,18.0950685750693,16.8555498706177],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.8601288339123,24.3327170096338,22.3166558800265,22.0528869127855,24.1024828163907,24.2874763034284,16.7085891406983,22.3913881547749,21.2988986779004,23.2678107852116,23.3084645435214],"y":[17.67995199617,16.779568111524,15.8525081114843,16.2667417040095,16.8657315926626,17.112741490826,10.6034272834659,14.8510615468025,14.9229135129601,15.9274729382247,15.9096597917378],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.6495404884219,18.3074554543942,16.9549776226282,17.1852466885,18.7752113794908,19.0415606893599,12.0927779152989,17.0870345916599,14.6357692385092,15.6685238616541,11.806616323255,16.6101172722876,16.8810432620347,15.649360315688,12.3387322183698,14.7471914293244,16.3392802048475,17.3821336986497,14.6944316782057,16.9490488888696,16.7362603966147,16.1247824916616,16.3507771320641,16.8934825893492,14.9086261646822,16.6043288588524,19.6206486523151,19.7848995111883,21.8050386693329,16.9639363855124,19.0281703822315,18.2636853490025,20.2159166833386],"y":[14.9451055444777,14.2988753745332,13.2979252679273,14.1201124818996,14.1879843780771,13.6871193613857,8.89531265813857,11.39471344091,10.6425250412896,12.1749741215259,8.87854838147759,13.3009317060933,13.2971908919513,12.1036728411913,8.79826471693814,11.2453873328865,11.1774517334998,12.9659522773698,11.3523165555671,13.9947068648413,14.100389370881,12.83346126955,13.2747526984662,13.3224335629493,11.3796774202958,13.3925697008148,15.3309890840203,15.9767137324438,16.8595238192007,14.6367638541386,15.0903594488278,15.1236687039956,15.786456833221],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26.2897689098492,24.8758444223553,25.9546740973368,24.0654359700158,20.8515946026891,22.1222005551681,22.8441555706784,21.8358777830377,20.0150458788499,33.1584274090826,32.1680227644742,32.2068783547729,29.2132689017802,32.2606633119285,34.2658516013995,36.1686760431156,35.705429517664,29.224527226761,26.2299784898758,28.8715398313478,28.2121936606243,26.7345048159361,24.3887870347127,23.6190712263808,23.8373346153647,26.1331524539739,25.7575164113194,26.0514218173921,26.3207126703113,44.2045096585527,41.1240897212178,29.3561045689508,25.7885828061029,28.2812574958429,28.7119347542524],"y":[18.2324293993413,18.0918388279155,17.2472778106108,15.608950871788,15.0994835378602,14.6359145250171,15.0437706749886,15.3936190463603,13.9278396535665,27.7240388190374,23.8701963152736,25.3773036247119,22.6654917133972,23.8700262919068,26.1749765781686,25.2954441359267,24.2368086006492,21.2230133350939,18.8503809483722,19.3264548361301,20.1705264398828,20.316209644638,16.7921871481463,15.9617144143209,16.9774045590311,21.0894182048738,18.9711359506473,19.0264010895044,18.755499628,35.1252232529223,29.2223958069459,20.6268203189597,19.3069921653718,19.910234621726,19.680772658065],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.1160257937387,14.8927083699033,20.2598686954007,17.201980037801,16.7918703721836,19.3199491266161,13.6737749001011,14.9059497082606,16.9585290063173,17.3644228188321,16.8104523586109,11.9930812094361,16.798294339329,15.9098239874467,17.6994629226625,15.0865623895079,16.9846277462319,16.6194143623114,17.7020161684603,16.934996095486,18.9798186300322,16.6194064240903,18.8622104544193,19.0480481196195,17.0912526706234,22.1482317682356,19.1326428709552,19.8330930205062,16.8988955223933,12.3286827754229,19.0791251778603,18.0372859582305,13.989779670164,14.8972986930981,17.8261470714584,18.2809544760734,14.784480704926,17.366156664677,15.6730703637004,17.7798442643136,16.9061527984217,19.0845837006345,19.0157379509881,17.022839454934,16.6543291779235,16.6070357026532,19.8590436864644,17.8870806520805,25.0400675037876,24.2179862480611,26.8633046448231,24.9974555341527,25.6808868121356,22.7695074150339,20.2862460821867,19.8570328842849,19.3151239523664,16.8630580881611,20.0161318257451,17.1488105932251,15.17789898552,17.826871792227],"y":[13.9968907225877,11.2369046710432,13.8769146591425,13.059672177583,11.7307872252539,14.0111067892984,10.6059669081122,10.8025295581669,14.0754764486104,13.1018083488569,13.2617698600516,8.61837750338018,13.2339500440285,10.7162622522563,13.1051032211632,11.2488909030333,11.2448491720483,10.7665647629648,11.7958552541211,13.831876654923,14.8752695159987,14.2733385361731,12.7557265138254,13.0620207149535,12.7594340885058,17.1474816016853,14.6230036623776,15.2089438620955,14.2799836236984,9.02646165732294,14.0621955517679,12.9815171437338,10.7571591503918,10.668556416221,11.8406853815541,11.7785253226757,10.7748415598646,10.752718379721,11.3084417412058,12.0144778482616,13.7331435937434,13.3707278100774,13.0637502066791,12.9602553257719,13.7776713002473,14.6708085425198,13.8830329116434,11.950653748028,17.6202132791281,17.9203241614625,20.029670258984,19.1048619357869,20.0810130756348,17.9858583364636,14.8522843115032,15.9700395498425,15.2230651348829,14.8565274389461,15.6983368381858,13.8766781533137,10.608560408093,12.6539054464549],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.1867216564901,45.8244043253176],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.29303521590307,36.4505655403994],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"x":0.1,"y":-0.2,"orientation":"h"},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"72191f389a1":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"72191f389a1","visdat":{"72191f389a1":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Nice! Finally, I am satisfied. Out of curiosity, let us investigate what had happened, if we had set orientation to <code>"h"</code> from the start.</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">orientation =</span> <span class="st">"h"</span>)) </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-82429cb5e76543afe024" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-82429cb5e76543afe024">{"x":{"data":[{"x":[26.0695374974981,23.2086925234646,26.0768791632727,24.9308416092768,23.8377278642729],"y":[16.0255920592695,14.9937019487843,16.2581179991364,14.6785500021651,14.9681662725285],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[29.2325189378113,28.8532226204872,31.3592744208872,30.199346187897,25.9283539408818,25.9758448410779,26.7959052326158,26.3361588846892,24.6654317613691,27.9923393897712,27.0046153195202,24.6158054735512,25.3285694360733,25.1906069174409,25.2100386058912,29.10594604332,26.7922257948667,24.6693819865584,27.2870676016435,24.7108556447551,26.8869150258601,26.6395817369223,28.7409728361294,30.8681651802734,30.9054084653035,26.3083997838199,25.9642351053655,27.040266973339,30.3017102699727,32.6438519284129,35.385097906366,36.8783125722781,35.1507273484021,29.1799569616094,26.0125601794571,28.9640714298934,29.1267944455147,23.7246849192306,44.322838523984,28.6647483410314,26.0912471286953,28.7895679594949,29.0880855601281,28.8595965363085,28.6984598759562,23.0894380249083,23.8697686104104],"y":[18.3546365527436,21.3599895056337,20.0436936119571,21.0941042929888,15.9950746381655,18.3581185951829,18.2678233733401,18.2594217065722,16.2794251123443,19.9059263626114,19.2920959310606,14.9529407570139,16.9014831976965,16.7613126020879,15.191211941652,20.613101792708,19.2002502327785,19.8885834714398,20.224532520771,19.0842224361375,20.390429372713,21.3617810707539,20.9458538677543,21.1876969605684,22.023192255199,17.764141587913,18.004825716652,18.1660383384675,23.8722776727751,24.1610339703038,25.719329581596,28.3180871790275,26.1644991233945,21.1955964449793,19.2426964538172,21.327014782466,22.2342363858595,17.1768635012209,32.8190428625792,20.9294821463525,18.761811398156,22.0562411589548,21.1649545585737,21.3555597810075,21.3608713643625,16.0921993074939,17.0229520991445],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.9044261876494,24.740211728029,22.7019718203694,26.635106375441,30.2450193801895,26.2290019288659,29.1139196861535,25.9675163818523,26.0613439768553,26.7735526811332,29.9075755758211,30.7505010068417,26.3826859112829,25.9200291238725,27.8134721610695,31.0913221659139,32.1743525596336,27.2983133057132,25.6529014863074,26.0771654583514,24.9437842892483,24.6082462120801,26.1642944850028,26.2351581836119,27.0457895239815,27.781882635504,24.6939795896411,28.8139035582542,26.7512148642912,30.9917057665065,30.8071901621297,26.2751989595592,25.8321278845891,27.7054823482409,28.6316050566733,28.6990886611864,28.3028334125876,29.0206906398758,26.2609739355743,25.9546907719225,26.1499782312661],"y":[15.2203587526456,16.6392504854128,15.7147986333817,18.8174664350227,21.9412421638146,18.0619578139856,18.0710607575253,16.7382188407704,18.3158760275692,18.1823668444529,20.9278107820079,20.9471999887377,17.8966239795089,17.7303354423493,19.3118404872715,22.7406380165368,22.6032889027148,19.2829365236685,18.8827249582857,17.7235391762108,19.1947817381471,18.8948097981513,17.966564495489,16.0649606874213,17.1082607276738,17.6055515542626,16.3943020233884,21.0646239906549,20.8488395115361,20.66338078361,21.3159992082044,17.8375386539847,18.1393284775317,19.1340950250626,20.9187900936231,17.7004002038389,18.9227939575911,20.8587905358523,15.9053624220192,17.7711879475042,17.3250940512866],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.3811728440225,24.2415038228035,21.6621089892462,22.2176215292886,24.2885711893439,23.7624798161909,16.8741880491376,22.3482740551233,21.2630665579811,22.7614980570972,23.0209097975865],"y":[17.8727037012577,16.6231906885281,15.650029456988,15.6334036266431,17.0330333298072,17.1832605516538,11.0103338634595,15.0982644820586,14.6526034248993,15.9709895990789,16.1474538382143],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.1797799473628,18.2600548697636,17.2516784453765,17.074075470306,19.0746808677912,18.9322942204773,11.9272167149931,17.0604608079419,15.0611950146034,16.1903100423515,11.7458210209385,16.8385425474495,16.9214616367593,16.3715123716742,11.8011103281751,14.7072661235929,15.8631472278386,16.8314063332975,14.7031968990341,17.3396130913869,17.0063692236319,15.620716095157,16.0954405045137,17.0740307107568,14.9368035169318,16.9185084719211,20.3094828292727,19.729708958976,21.8971724007279,16.9803054461256,18.6825426554307,17.9563752116635,19.7180323660374],"y":[14.911607263796,13.8244879053906,12.711102345027,13.9245182558894,13.6002623602748,14.3930446505547,9.25128542855382,10.6467828910798,11.2882873428985,12.2226631194353,9.3206142757088,12.6414996828884,13.2106960527599,11.7426085369661,9.13175450786948,10.9605820188299,10.6250534445047,13.1893267909065,11.0187177952379,14.3452952159569,14.2327709948644,12.8799873674288,13.041873472929,12.9547880431637,10.9845888245851,12.6195365335792,15.3193038061261,16.0753157293424,16.7987223310396,15.3486866958439,14.783008900471,14.886529946886,15.6580456236377],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26.2584711428732,24.6843957705423,25.761778011173,23.7427618680522,21.0229884400964,22.1495326923206,23.0055673277006,22.3760009210557,19.9999113256112,33.3216467292979,32.2490658331662,31.8183402437717,28.6980494702235,31.9146104715765,33.6857627861202,35.895660399273,35.927889703773,28.7847827907652,25.7680317917839,28.85321668908,27.9590525520965,27.2695139134303,23.7878491772339,23.9092619780451,23.6351802969351,25.6332604017109,26.3944717409089,25.6851196939126,25.9051174111664,44.1181229254231,40.8756589414552,29.2367516124621,25.8039553610608,27.9247004931793,28.6678938863799],"y":[17.743487313576,18.3753665978089,17.03784600012,15.7303178867325,15.3458430631086,14.8598864398897,15.0906618429348,15.0095629019663,13.9699981797487,27.9509539887309,23.9274278540164,25.2128541234881,23.123784535937,24.193960095942,25.8276962187141,24.9545920222998,23.6574839897454,20.6497408656403,19.091205720976,18.9087609639391,19.8892674980685,20.0645335869864,17.1455876529217,15.7300239535049,16.9539977174252,21.2987467868254,19.0378701049834,19.3878855776042,18.8809800971299,35.0024371901527,28.9001474447548,20.847729780525,19.1294082490727,19.9546166317537,20.1237246634439],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.9603847742081,14.9667947752401,20.0589487444609,17.0323692591861,16.9646910116076,18.8365162357688,14.2560035970062,15.2472310306504,17.321026304923,16.864389058575,16.910606117174,11.7305228490382,17.0655788823962,15.9525397550315,18.1082643568516,15.0638210255653,17.1231527039781,17.0291766369715,18.2808106482029,17.2638733290136,18.8665304856375,17.286883941479,18.9828423297033,19.0532320093364,16.9801580976695,22.1650135064498,19.210812809132,19.9155101319775,17.054683617875,11.6714911801741,19.0647804113105,17.7630062384531,13.8458338851109,15.3502142705023,17.8517790557817,17.6693007864058,14.9609489548951,17.2745739817619,16.3971147347242,17.6098847638816,17.2222477449104,19.1276823399588,19.2615903589875,16.7618252299726,17.0923787966371,17.1748099584132,19.684054929018,18.332779658027,24.6615074167028,23.8394733386114,27.039931009151,25.3593792930245,26.1613463381305,22.9078646976501,20.2028732353821,20.2974869528785,18.8189371362329,17.0684418180957,19.8233358317986,17.1215390730649,15.2790247466415,18.1357749523595],"y":[13.6059259127825,11.2509085131809,13.9599288342521,13.0812973793596,11.7033239554614,14.1809156015515,11.1340024420992,10.7594505637884,14.2622279999778,13.2201357904822,13.3906772723421,9.282617505081,13.2620885847136,10.7518239416182,13.1673424385488,11.3802332621068,10.6231529213488,11.0671825589612,12.2501522678882,14.0613758731633,14.8011695966125,14.1844814665616,13.3359524067491,12.8996841784567,12.7365496750921,16.8221336159855,15.1432422727346,15.0093276975676,14.1762971213087,8.88045346625149,13.6064977914095,13.1814047921449,10.9768593823537,10.943230118975,11.7079885417596,11.8291084365919,10.9827715408057,11.05130129233,10.8586260164157,11.8752932742238,13.950502111949,13.1268884273246,12.6665988752618,13.0116081442684,14.2025771729648,15.1150749068707,14.2311852864921,11.7180188342929,17.769343748875,17.7708415782079,19.8199173267931,19.1202205227688,20.0215699287131,17.8652841815725,14.792487549223,15.9688552590087,15.2767203791067,14.9335553821176,15.8113246012479,14.3633516587317,11.2862542835996,13.0647100212052],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.0389238129836,45.9554058911745],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.57435428005643,36.3085363763478],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"orientation":"h"},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"7219cd17de2":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"7219cd17de2","visdat":{"7219cd17de2":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>This already looks nice enough, so our manual tweaking was not technically necessary. But then again, this does not recreate what <code>legend.position = "bottom"</code> usually does. Now that we understand how <code>layout()</code> works, we can roam the reference manual and try to tweak the legend box. Let’s try to change a couple of things. This does <a href="https://www.allisonhorst.com/post/do-your-worst/">not have to be pretty</a>, we only want to see how plotly works.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend =</span> <span class="fu">list</span>(</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">orientation =</span> <span class="st">"h"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">borderwidth =</span> <span class="dv">3</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">bgcolor =</span> <span class="st">"grey"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">bordercolor =</span> <span class="st">"red"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">font =</span> <span class="fu">list</span>(</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">family =</span> <span class="st">"Gravitas One"</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">15</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="fu">list</span>(</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"Class"</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">side =</span> <span class="st">"top"</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">family =</span> <span class="st">"Gravitas One"</span>,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">15</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-c1822205ba0bb7c0a12d" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c1822205ba0bb7c0a12d">{"x":{"data":[{"x":[26.2126705972478,22.6320037908852,25.6397652262822,25.0590386480093,24.3847278216854],"y":[16.1223283611238,14.8530924139544,16.1630423689261,15.358515961282,14.7271509934217],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[29.2617352306843,28.7641792904586,31.363973865658,30.0622346494347,26.0614174349233,25.9749494725838,27.112383537367,26.0887329801917,24.9265520246699,27.70893189013,27.1583926467225,25.1452307872474,24.9475105524063,24.8048370137811,24.924999672547,29.2999253900722,26.9251742649823,24.7397677030414,27.0603397618979,24.7068787420169,27.1457749573514,26.7017301892862,29.1640649402514,31.3021415226161,31.3460283182561,25.9530777899548,25.6217130327597,26.6129999039695,30.3875863801688,32.8602655494586,34.9337795065716,37.2197001218796,34.8979654857889,28.910080540739,25.6992746392265,29.3842530945316,28.823387860693,23.8937733093277,44.0746670253575,28.9436669940129,25.9439421925694,29.1720225263387,28.9988071989268,29.0007707808167,28.8359601235017,23.142392170988,24.3711495589465],"y":[18.3850577676669,21.109042417258,19.7489161072299,20.8695192230865,15.6837525980547,18.3453168110922,17.8595756217837,18.356501846388,16.3184670342132,19.8276552224532,18.9005517072976,14.6999482477084,17.3791597269475,16.6341861961409,14.7907935356721,20.7023262342438,18.8014747006819,19.647010451369,19.6191661316901,19.3520635157824,19.8788207208738,21.0807186942548,21.3531133981422,20.8747578116134,21.6157172758132,17.679671212472,18.3712347788736,17.9457679720595,23.616689533554,23.9591580143198,26.3574936231598,27.7225373059511,26.3643362410367,21.0025525156409,18.9854004805908,21.3718705056235,21.7553104486316,17.3059135431424,33.0430539211258,20.6778359312564,18.7322492850944,21.9104556918144,20.7350815933198,21.1952211065218,20.8655987519771,15.967921692878,16.8097294507548],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.3192322781309,25.2624274563044,23.3494365127757,27.3800885356963,29.9615647545084,26.2978661147878,29.1809459993616,26.2492932723835,25.9167514557019,26.8663530796766,29.6749562868848,31.0238175921142,25.8443435164168,26.0546866115183,27.995257598348,31.1360755875707,32.3867716945708,27.3190435092896,25.6806296847761,26.268261622265,24.9594032105058,24.6501414308324,25.7631372805685,26.0728140162304,26.7087981238961,27.9316570486873,24.965398796089,29.3508634094149,27.1120078414679,31.0003814611584,31.1497931426391,25.6686932176352,26.1694518158212,27.6958675054833,28.6272643679753,28.8724487274885,28.2926743621007,28.6237486200407,26.3445793138817,25.6663313753903,26.3270542740822],"y":[14.9877048410475,16.6301148619503,16.2956589067355,18.9978350488469,21.7045581210405,17.8659242335707,18.178244330734,17.2779254952446,18.3426582355052,17.6216326469556,20.9669458081946,21.0570865185931,17.8593582699075,17.9025226173922,19.2016226384789,22.9411860892549,23.1295330312103,18.6654091699049,19.2896401714534,17.9364604651928,19.1972066227347,19.3228009110317,17.7385846773162,16.1523173747584,16.9077599033713,17.7267344970256,16.2284234624356,20.9427716661245,20.7624648857862,21.2502379260957,21.0676820071414,17.9047901771963,17.8237421272323,18.774550110288,21.0805976741016,18.2745499065146,19.2158361423761,21.0849326090887,16.0815473122522,18.2055545441806,17.1161866690964],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.6102255221456,23.8361993486062,22.3756611565128,22.3593795780092,23.7907286111265,23.6366546649486,16.7338793501258,21.7066473729908,20.9729130061343,22.6220411408693,22.669667599909],"y":[17.6679002989084,17.3067346882075,15.7830754643306,15.6977359242737,17.2237617913634,17.0994091037661,11.2546726217493,14.8837245846167,14.9144463773817,16.0518408790231,16.0711812889203],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.1496664563194,18.0878173703328,16.7651690063998,17.3473541917279,18.6755971241742,18.8603526746854,11.6957168897614,16.7216297712177,14.6440815642476,15.6488611796871,12.2754720726982,16.7535398574546,17.071472074464,15.9288620283827,12.0674532596022,15.2304008411244,15.7609216498211,17.333704677783,14.8572879722342,16.7417688194662,17.1011609377339,16.1571081517264,15.8090239459649,16.6799474790692,15.2752686388791,17.03951427266,19.9985944120213,19.9941656066105,21.6955615885556,17.1484090317041,18.6725468147546,17.8608581630513,19.7752760894597],"y":[14.7867627762258,13.7857878822833,13.0254877569154,14.2637671459466,13.7603942992166,13.8808301040903,9.16346727199852,11.1268740095198,10.6866492671892,12.1030790500343,8.63145754318684,13.0779761839658,13.0922382829711,12.068915489316,8.67966448422521,10.7569126792252,10.8995350925252,12.925207673572,10.9562889080495,14.1061292197555,13.95213749744,12.7013731945306,13.1136034322903,12.9657786890864,10.9689944215119,12.9544721260667,15.1433819977567,15.8751542903483,16.9884978163987,15.2943880347535,14.748148797825,15.0809732565656,15.7083240719512],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26.0923818824813,25.0271656367928,25.8228407476097,24.1478619538248,20.9109896209091,22.3638336284086,23.1296497801319,21.980512589775,20.1879341091961,33.0205909956247,31.8159883886576,31.7804927799851,28.723098436743,31.7143151549622,34.3750102974474,35.9668270613998,35.7024996854365,28.6951518714428,26.1810667751357,28.9488320931792,28.3481136692688,26.6454334516078,24.3670479174703,23.9019317768514,23.8957035196945,25.7099488204345,25.9992327963933,25.7104023788124,26.3875325640664,44.0934990052134,40.7047516519204,28.7511354180053,25.8305984854698,27.6860179657117,28.6116388887167],"y":[17.6306662604213,18.3881617192179,16.7416628748178,15.7185553146526,14.9109087951481,15.1292372196913,14.8453912088647,14.6637244530022,13.6681060718372,28.2506446612999,24.1293115712702,25.3133156962693,23.3259966665879,23.8932890718803,26.2332214754075,25.0068475186825,24.3365985639393,20.8071985159069,19.2303975537419,19.3999961219728,19.8409836720675,19.7667347127572,17.3055925387889,16.1829415973276,17.1230871770531,21.3767383154482,19.2908443052322,18.7059782104567,18.6416274186224,35.1898982645944,28.9483160052449,20.7402550423518,19.0193743264303,20.0017812713981,20.0483169814572],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.8236596925184,14.6813160551712,19.6918209349737,17.105771077238,17.3142387369648,18.934433038719,14.1725591478869,14.8939125610515,16.9003186212853,16.7792049601674,17.1143636247143,11.6089839927852,17.093383483775,16.0885156067088,18.3785910530016,14.761524466984,16.6253307098523,17.1925054388121,18.3716492809355,16.9122361069545,18.6884420152754,17.1644319383428,18.6298411149532,18.6425347421318,17.3069119919091,22.131227917783,19.3357721731067,20.3061907023191,17.0897804344073,11.8336220832542,18.6913940899074,18.3701072067022,13.8623073900118,14.7817070592195,17.6932708645239,18.3465690452605,14.8131530631334,16.7720801638439,16.2717330334708,18.1324367845431,17.3337701017037,19.3058309705928,19.2492008170113,17.0957684397697,16.7824121329933,16.7928484311327,20.2359776860103,18.0518764413893,24.7030928786844,24.1808856129646,27.3393180441111,24.7536011680961,26.160018895939,22.7413442021236,20.3639505036175,19.819655797258,19.2517382081598,16.7244572233409,20.2354617934674,17.1163949932903,15.3438739784062,18.2900630842894],"y":[13.9334737442434,11.0884036662057,13.6482344716787,12.6142124112695,12.0738755594939,13.6060054596514,10.9277799993753,11.0473523622379,14.1726497897878,12.6625841036439,13.2462486179546,8.64961915630847,12.7812231760472,10.9664902530611,12.7756706848741,10.9054344303906,10.8334468519315,10.9845596482977,12.1574284901842,14.283466482535,14.9486060831696,13.7059503357857,12.7264356413856,12.8674567874521,12.6770628640428,16.8656265281141,14.8380644854158,14.7281773332506,14.1500557146966,8.76464878227562,13.8134863348678,13.2761167664081,11.2780846234411,10.7292376501486,12.3006953019649,12.3944141784683,10.6981300419196,11.2641072006896,11.0596028326079,12.1976612927392,13.8517397599295,12.944765426591,12.9459082813933,12.7891007829458,14.0596401920542,14.6409951556474,13.9203072618693,11.702991832979,17.6141166476533,18.340933928825,19.7615323716775,18.9573684828356,20.0000548064709,17.6427846519276,14.7165754470974,15.7901012625545,14.7370156049728,14.9648283628747,16.1670867750421,13.8464223111048,10.8044498909265,12.9370751995593],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.98475824216381,45.7177247558348],"tickmode":"array","ticktext":["10","20","30","40"],"tickvals":[10,20,30,40],"categoryorder":"array","categoryarray":["10","20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.30353550711647,36.5178203006648],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"grey","bordercolor":"red","borderwidth":3,"font":{"color":"white","family":"Gravitas One","size":15},"title":{"text":"Class","font":{"color":"white","family":"Gravitas One","size":15},"side":"top"},"orientation":"h"},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"72195df4450f":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"72195df4450f","visdat":{"72195df4450f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Note how we have used lists in lists (in lists) to customize the legend. Interestingly, our initial blunder of ignoring the “parent” resp. the hierarchy of options earlier helped to understand that as an option’s parent’s name gets longer, e.g.&nbsp;<code>layout.legend.title.font</code>, we will have to use more convoluted lists to change that option.</p>
</section>
<section id="creating-a-plotly-chart-manually" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-plotly-chart-manually">Creating a Plotly Chart Manually</h2>
<p>Since we have learned how to tweak a plotly object, we might as well figure out how to create one without having to use <code>ggplotly()</code>. It is not that I want to avoid using ggplot altogether but, in principle, it cannot hurt if we can understand plotly’s implementation in the R package <code>plotly</code>.</p>
<p>So, from the book <a href="https://plotly-r.com/index.html">Interactive web-based data visualization with R, plotly, and shiny</a> I gather that the <code>plotly</code> R package implements the JavaScript <code>plotly.js</code> library via a Grammar of Graphics approach. Thus, it works similar to <code>ggplot2</code> in the sense that we can add layers of graphical objects to create a plot. In <code>plotly</code>’s case, we pass a plotly object from one <code>add_*</code> layer to the next (via <code>%&gt;%</code>).</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>(<span class="at">x =</span> <span class="sc">~</span>hwy, <span class="at">y =</span> <span class="sc">~</span>cty, <span class="at">color =</span> <span class="sc">~</span>class)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-8eb10918cc4b34bc7c47" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-8eb10918cc4b34bc7c47">{"x":{"visdat":{"72191c69f189":["function () ","plotlyVisDat"]},"cur_data":"72191c69f189","attrs":{"72191c69f189":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[26,23,26,25,24],"y":[16,15,16,15,15],"type":"scatter","mode":"markers","name":"2seater","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[29,29,31,30,26,26,27,26,25,28,27,25,25,25,25,29,27,25,27,25,27,27,29,31,31,26,26,27,30,33,35,37,35,29,26,29,29,24,44,29,26,29,29,29,29,23,24],"y":[18,21,20,21,16,18,18,18,16,20,19,15,17,17,15,21,19,20,20,19,20,21,21,21,22,18,18,18,24,24,26,28,26,21,19,21,22,17,33,21,19,22,21,21,21,16,17],"type":"scatter","mode":"markers","name":"compact","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24,25,23,27,30,26,29,26,26,27,30,31,26,26,28,31,32,27,26,26,25,25,26,26,27,28,25,29,27,31,31,26,26,28,29,29,28,29,26,26,26],"y":[15,17,16,19,22,18,18,17,18,18,21,21,18,18,19,23,23,19,19,18,19,19,18,16,17,18,16,21,21,21,21,18,18,19,21,18,19,21,16,18,17],"type":"scatter","mode":"markers","name":"midsize","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24,24,22,22,24,24,17,22,21,23,23],"y":[18,17,16,16,17,17,11,15,15,16,16],"type":"scatter","mode":"markers","name":"minivan","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[19,18,17,17,19,19,12,17,15,16,12,17,17,16,12,15,16,17,15,17,17,16,16,17,15,17,20,20,22,17,19,18,20],"y":[15,14,13,14,14,14,9,11,11,12,9,13,13,12,9,11,11,13,11,14,14,13,13,13,11,13,15,16,17,15,15,15,16],"type":"scatter","mode":"markers","name":"pickup","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[26,25,26,24,21,22,23,22,20,33,32,32,29,32,34,36,36,29,26,29,28,27,24,24,24,26,26,26,26,44,41,29,26,28,29],"y":[18,18,17,16,15,15,15,15,14,28,24,25,23,24,26,25,24,21,19,19,20,20,17,16,17,21,19,19,19,35,29,21,19,20,20],"type":"scatter","mode":"markers","name":"subcompact","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[20,15,20,17,17,19,14,15,17,17,17,12,17,16,18,15,17,17,18,17,19,17,19,19,17,22,19,20,17,12,19,18,14,15,18,18,15,17,16,18,17,19,19,17,17,17,20,18,25,24,27,25,26,23,20,20,19,17,20,17,15,18],"y":[14,11,14,13,12,14,11,11,14,13,13,9,13,11,13,11,11,11,12,14,15,14,13,13,13,17,15,15,14,9,14,13,11,11,12,12,11,11,11,12,14,13,13,13,14,15,14,12,18,18,20,19,20,18,15,16,15,15,16,14,11,13],"type":"scatter","mode":"markers","name":"suv","marker":{"color":"rgba(229,196,148,1)","line":{"color":"rgba(229,196,148,1)"}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Notice the <code>~</code>. These are used to ensure that the variables are mapped from the data (similar to <code>aes()</code> in <code>ggplot2</code>). Alternatively, one could also use <code>x = mpg$hwy</code> to create the same plot.</p>
<p>Because we can see a lot of overplotting, let us jitter the points. Unfortunately, I couldn’t find a built-in option for that. Therefore, let’s do the jittering manually.</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>jitter_hwy <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>jitter_cty <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>jittered_mpg <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">hwy =</span> hwy <span class="sc">+</span> <span class="fu">runif</span>(<span class="fu">length</span>(hwy), <span class="sc">-</span>jitter_hwy, jitter_hwy),</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">cty =</span> cty <span class="sc">+</span> <span class="fu">runif</span>(<span class="fu">length</span>(cty), <span class="sc">-</span>jitter_cty, jitter_cty)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> jittered_mpg <span class="sc">%&gt;%</span> </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>(<span class="at">x =</span> <span class="sc">~</span>hwy, <span class="at">y =</span> <span class="sc">~</span>cty, <span class="at">color =</span> <span class="sc">~</span>class)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>plt </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-e16ffa212c503cb82ae5" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-e16ffa212c503cb82ae5">{"x":{"visdat":{"7219381902f":["function () ","plotlyVisDat"]},"cur_data":"7219381902f","attrs":{"7219381902f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","name":"2seater","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","name":"compact","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","name":"midsize","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","name":"minivan","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","name":"pickup","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","name":"subcompact","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","name":"suv","marker":{"color":"rgba(229,196,148,1)","line":{"color":"rgba(229,196,148,1)"}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Regarding the customization of the points aka markers, we can pass a list of options (taken from the reference manual again) to the <code>marker</code> argument in <code>add_markers()</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> jittered_mpg <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>(</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span>hwy, </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span>cty, </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="sc">~</span>class,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">8</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">opacity =</span> <span class="fl">0.6</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">width =</span> <span class="dv">2</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-75dae40aded30e8a9389" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-75dae40aded30e8a9389">{"x":{"visdat":{"72197b848cb":["function () ","plotlyVisDat"]},"cur_data":"72197b848cb","attrs":{"72197b848cb":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","marker":{"color":"rgba(102,194,165,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"2seater","textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","marker":{"color":"rgba(252,141,98,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"compact","textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","marker":{"color":"rgba(141,160,203,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"midsize","textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","marker":{"color":"rgba(231,138,195,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"minivan","textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","marker":{"color":"rgba(166,216,84,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"pickup","textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","marker":{"color":"rgba(255,217,47,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"subcompact","textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","marker":{"color":"rgba(229,196,148,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"suv","textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Alternatively, and what I find surprisingly convenient, we can leave our initial plotly object as it is and pass it to the <code>style()</code> function. This functions works just like the <code>layout()</code> function we have seen before.</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> jittered_mpg <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span>hwy, </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span>cty, </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="sc">~</span>class</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">8</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">opacity =</span> <span class="fl">0.6</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">width =</span> <span class="dv">2</span>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>plt </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-1a9e7551fc64c5bd14e3" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1a9e7551fc64c5bd14e3">{"x":{"visdat":{"7219492b01b9":["function () ","plotlyVisDat"]},"cur_data":"7219492b01b9","attrs":{"7219492b01b9":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","name":"2seater","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","name":"compact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","name":"midsize","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","name":"minivan","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","name":"pickup","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","name":"subcompact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","name":"suv","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Similarly, we could pass this along to <code>layout()</code> if we want to customize the legend box again.</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plt_layout <span class="ot">&lt;-</span> plt <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend =</span> <span class="fu">list</span>(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">orientation =</span> <span class="st">"h"</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">borderwidth =</span> <span class="dv">3</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">bgcolor =</span> <span class="st">"grey"</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">bordercolor =</span> <span class="st">"red"</span>,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">font =</span> <span class="fu">list</span>(</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">family =</span> <span class="st">"Gravitas One"</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">15</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="fu">list</span>(</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"Class"</span>,</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">side =</span> <span class="st">"top"</span>,</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">family =</span> <span class="st">"Gravitas One"</span>,</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">15</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>plt_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-bad54bc0ff6aecacc590" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-bad54bc0ff6aecacc590">{"x":{"visdat":{"7219492b01b9":["function () ","plotlyVisDat"]},"cur_data":"7219492b01b9","attrs":{"7219492b01b9":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true,"legend":{"orientation":"h","borderwidth":3,"bgcolor":"grey","bordercolor":"red","font":{"color":"white","family":"Gravitas One","size":15},"title":{"text":"Class","side":"top","font":{"color":"white","family":"Gravitas One","size":15}}}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","name":"2seater","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","name":"compact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","name":"midsize","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","name":"minivan","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","name":"pickup","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","name":"subcompact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","name":"suv","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Interesting! For some obscure reason the exact same legend command behaves differently now. Honestly, I have no clue what is going on here. If I had to hazard a guess, I would say that during the conversion of a ggplot object to a plotly object via <code>ggplotly()</code> some default values were implemented that cause the change but this is just a hunch. Possibly, this is connected to <code>xanchor</code> or <code>yanchor</code>.</p>
<p>In any case, we got a glimpse of how the <code>plotly</code> R package works which uses the JavaScript library <code>plotly.js</code> to create interactive plots. Also, we have learned how to convert a ggplot2 object to a plotly object and how we can customize this further.</p>
<p>Interestingly, when converting from ggplot2 to plotly, the pop-up window that appears when you hover over a point is already customized compared to the default from <code>plot_ly()</code>. Did you notice the difference already?</p>
<p>So, in order to end our “exploratory introduction” let us adjust the <code>hovertemplate</code> according to the description in the reference manual. Here, we will use <code>\n</code> for line breaks.</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> plt <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(<span class="at">hovertemplate =</span> <span class="st">"hwy: %{x:.2f}</span><span class="sc">\n</span><span class="st">cty: %{y:.2f}"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">orientation =</span> <span class="st">"h"</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.2</span>)) </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-d1b1c257a633fdd0689a" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-d1b1c257a633fdd0689a">{"x":{"visdat":{"7219492b01b9":["function () ","plotlyVisDat"]},"cur_data":"7219492b01b9","attrs":{"7219492b01b9":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true,"legend":{"orientation":"h","y":-0.2}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","name":"2seater","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","name":"compact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","name":"midsize","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","name":"minivan","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","name":"pickup","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","name":"subcompact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","name":"suv","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Notice how the class labels appear outside of the box. The reference manual refers to this position as “secondary” box. To get rid of this, we simply add <code>&lt;extra&gt;&lt;/extra&gt;</code> to our hover template. Unfortunately, it appears as if what is not displayed in the primary box cannot be used as part of the hover template.</p>
<p>Thus, we cannot use <code>%{color}</code>. Instead, we simply map <code>class</code> to the <code>text</code> attribute of the markers as well. Then, we can use <code>%{text}</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> jittered_mpg <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>(<span class="at">x =</span> <span class="sc">~</span>hwy, <span class="at">y =</span> <span class="sc">~</span>cty, <span class="at">color =</span> <span class="sc">~</span>class, <span class="at">text =</span> <span class="sc">~</span>class) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">8</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">opacity =</span> <span class="fl">0.6</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">width =</span> <span class="dv">2</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(<span class="at">hovertemplate =</span> <span class="st">"hwy: %{x:.2f}</span><span class="sc">\n</span><span class="st">cty: %{y:.2f}</span><span class="sc">\n</span><span class="st">class: %{text} &lt;extra&gt;&lt;/extra&gt;"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">orientation =</span> <span class="st">"h"</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.2</span>))</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-023414eb06456b3320f6" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-023414eb06456b3320f6">{"x":{"visdat":{"7219443af33e":["function () ","plotlyVisDat"]},"cur_data":"7219443af33e","attrs":{"7219443af33e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"text":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true,"legend":{"orientation":"h","y":-0.2}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","text":["2seater","2seater","2seater","2seater","2seater"],"name":"2seater","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","text":["compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact"],"name":"compact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","text":["midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize"],"name":"midsize","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","text":["minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan"],"name":"minivan","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","text":["pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup"],"name":"pickup","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","text":["subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact"],"name":"subcompact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","text":["suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv"],"name":"suv","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>All right! That’s enough exciting plotting action for today. Hope you enjoyed this blog post and see you next time.</p>


</section>
</main> <!-- /main -->
<div>
<hr>

<h3> Stay in touch </h3>

<p> If you enjoyed this post, then don't miss out on any future posts by subscribing to my email newsletter. </p>

<iframe src="https://embeds.beehiiv.com/9232d2a2-6e85-4beb-b8ed-1de94e9e4f01?slim=true" data-test-id="beehiiv-embed" frameborder="0" scrolling="no" style="margin: 0; border-radius: 0px !important; background-color: transparent; height: 55px;width:60%;"></iframe>


<h3> Support my work with a coffee </h3>

<script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="rappa753" data-color="#06436e" data-emoji="☕" data-font="Lato" data-text="Support me" data-outline-color="#ffffff" data-font-color="#ffffff" data-coffee-color="#FFDD00" data-height="40px"></script>

<h3> Share </h3>

<a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-size="large" data-hashtags="#rstats" data-show-count="false">Tweet</a><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>



<hr>
</div>
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="AlbertRapp/blogComments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->


</body></html>