)
) +
facet_matrix(
cols = vars(sex, species),
rows = vars(bill_depth_mm:body_mass_g)
)
dat %>%
ggplot() +
geom_boxplot(
aes(
x = .panel_x,
y = .panel_y,
group = .panel_x
)
) +
facet_matrix(
cols = vars(sex, species),
rows = vars(bill_depth_mm:body_mass_g)
)
interaction(.panel_x, island)
interaction(c(1,2,3), c("x", "y"))
interaction(c(1,2,3), c("x", "y", "y"))
point_plot
point_plot +
inset_element(
boxplot_plot,
left = 30,
right = 40,
top = 235,
bottom = 220
)
point_plot +
inset_element(
boxplot_plot,
left = 0.1,
right = 0.5,
top = 1,
bottom = 0.6
)
point_plot +
inset_element(
boxplot_plot,
left = 0.1,
right = 0.5,
top = 1,
bottom = 0.6
)
point_plot +
inset_element(
boxplot_plot + theme_void(),
left = 0.1,
right = 0.5,
top = 1,
bottom = 0.6
)
point_plot +
inset_element(
boxplot_plot + theme_minimal(),
left = 0.1,
right = 0.5,
top = 1,
bottom = 0.6
)
point_plot +
inset_element(
boxplot_plot + theme_bw(),
left = 0.1,
right = 0.5,
top = 1,
bottom = 0.6
)
point_plot +
inset_element(
boxplot_plot + theme_classoc(),
left = 0.1,
right = 0.5,
top = 1,
bottom = 0.6
)
point_plot +
inset_element(
boxplot_plot + theme_classic(),
left = 0.1,
right = 0.5,
top = 1,
bottom = 0.6
)
point_plot +
inset_element(
boxplot_plot + theme_classic(),
left = 0,
right = 0.5,
top = 1,
bottom = 0.6
)
point_plot +
inset_element(
boxplot_plot + theme_classic(),
left = 0.01,
right = 0.5,
top = 0.99,
bottom = 0.6
)
point_plot +
coord_cartesian(xlim = c(30, 60))
point_plot +
coord_cartesian(xlim = c(30, 60)) +
inset_element(
boxplot_plot + theme_classic(),
left = 0.01,
right = 0.5,
top = 0.99,
bottom = 0.6
)
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
boxplot_plot + theme_classic(),
left = 0.01,
right = 0.5,
top = 0.99,
bottom = 0.6
)
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
boxplot_plot + theme_classic(),
left = 0.01,
right = 0.5,
top = 0.99,
bottom = 0.8
)
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
boxplot_plot + theme_classic(),
left = 0.01,
right = 0.5,
top = 0.99,
bottom = 0.75
)
point_plot +
coord_cartesian(xlim = c(25, 60)) +
coord_flip()
inset_element(
boxplot_plot + theme_classic()+
coord_flip(),
left = 0.01,
right = 0.5,
top = 0.99,
bottom = 0.75
)
inset_element(
boxplot_plot + theme_classic() + coord_flip(),
left = 0.01,
right = 0.5,
top = 0.99,
bottom = 0.75
)
plt <- boxplot_plot + theme_classic() + coord_flip()
point_plot +
coord_cartesian(xlim = c(25, 60))
inset_element(
plt,
left = 0.01,
right = 0.5,
top = 0.99,
bottom = 0.75
)
plt <- boxplot_plot + theme_classic()
point_plot +
coord_cartesian(xlim = c(25, 60))
plt <- boxplot_plot + theme_classic() + coord_flip()
plt <- boxplot_plot + theme_classic() + coord_flip()
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.5,
top = 0.99,
bottom = 0.75
)
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.4,
top = 0.99,
bottom = 0.6
)
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.4,
top = 0.99,
bottom = 0.6
)
plt <- boxplot_plot + theme_grey() + coord_flip()
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.4,
top = 0.99,
bottom = 0.6
)
plt <- boxplot_plot + theme_dark() + coord_flip()
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.4,
top = 0.99,
bottom = 0.6
)
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.4,
top = 0.99,
bottom = 0.6
)
plt <- boxplot_plot + theme_minimal() + coord_flip() + theme(plot.background = "grey80")
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.4,
top = 0.99,
bottom = 0.6
)
plt <- boxplot_plot +
theme_minimal() +
coord_flip() +
theme(plot.background = element_rect(fill = "grey80"))
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.4,
top = 0.99,
bottom = 0.6
)
blogdown::serve_site()
p1 <- dat %>%
ggplot(aes(fill = sex)) +
geom_autopoint(alpha = 0.5, size = 2, shape = 21) + # Layer 1
geom_autodensity(alpha = 0.75, position = "identity") + # Layer 2
geom_hex(aes(x = .panel_x, y = .panel_y), alpha = 0.75) + # Layer 3
facet_matrix(
vars(bill_length_mm, flipper_length_mm, bill_depth_mm, body_mass_g),
layer.diag = 2,
layer.lower = 3
)
p2 <- point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.4,
top = 0.99,
bottom = 0.6
)
p3 <- (wrapped_plots) /
boxplot_plot +
plot_layout(guides = "collect", heights = c(0.4, 0.6)) +
plot_annotation(
title = "Look at that arrangement!",
subtitle = "Wow",
caption = "Olà.",
tag_levels = "A",
tag_prefix = "(",
tag_suffix = ")"
) &
theme(legend.position = "top") &
scale_fill_brewer(palette = "Dark2")
p1 + p2 + p3
# Chunk 1
knitr::opts_chunk$set(collapse = T)
# Chunk 2
library(tidyverse)
theme_set(theme_light())
# All missing values can be filtered out by filtering the `sex` variable
dat <- palmerpenguins::penguins %>% filter(!is.na(sex))
# Chunk 3
point_plot <- dat %>%
ggplot(aes(bill_length_mm, flipper_length_mm, fill = sex)) +
geom_jitter(size = 3, alpha = 0.5, shape = 21)
point_plot
point_plot2 <- dat %>%
ggplot(aes(bill_length_mm, bill_depth_mm, fill = sex)) +
geom_jitter(size = 3, alpha = 0.5, shape = 21)
point_plot2
# plot_plot is obviously a fun name
boxplot_plot <- dat %>%
ggplot(aes(x = body_mass_g, fill = sex)) +
geom_boxplot()
boxplot_plot
# Chunk 4
library(patchwork)
p <- (point_plot + point_plot2) / boxplot_plot
p
# Chunk 5
p + plot_layout(guides = "collect")
# Chunk 6
boxplot_plot <- boxplot_plot + guides(fill = "none")
p <- (point_plot + point_plot2) / boxplot_plot
p + plot_layout(guides = "collect")
# Chunk 7
p + plot_layout(guides = "collect") & theme(legend.position = "top")
# Chunk 8
p +
plot_layout(guides = "collect") &
theme(legend.position = "top") &
scale_fill_brewer(palette = "Dark2")
# Chunk 9
(point_plot + point_plot2 + plot_layout(widths = c(0.7, 0.3))) /
boxplot_plot +
plot_layout(guides = "collect", heights = c(0.4, 0.6)) +
plot_annotation(
title = "Look at that arrangement!",
subtitle = "Wow",
caption = "Olà.",
tag_levels = "A",
tag_prefix = "(",
tag_suffix = ")"
) &
labs(fill = "Penguin sex") &
theme(legend.position = "top") &
scale_fill_brewer(palette = "Dark2")
# Chunk 10
wrapped_plots <- wrap_elements(
point_plot + point_plot2 + plot_layout(widths = c(0.7, 0.3))
)
(wrapped_plots) /
boxplot_plot +
plot_layout(guides = "collect", heights = c(0.4, 0.6)) +
plot_annotation(
title = "Look at that arrangement!",
subtitle = "Wow",
caption = "Olà.",
tag_levels = "A",
tag_prefix = "(",
tag_suffix = ")"
) &
theme(legend.position = "top") &
scale_fill_brewer(palette = "Dark2")
# Chunk 11
# Tweak boxplots a bit for better visual fit to point_plot
plt <- boxplot_plot +
theme_minimal() +
coord_flip() +
theme(plot.background = element_rect(fill = "grey80"))
point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.4,
top = 0.99,
bottom = 0.6
)
# Chunk 12
library(ggforce)
dat %>%
ggplot(aes(x = .panel_x, y = .panel_y, fill = sex)) +
geom_point(alpha = 0.5, size = 2, shape = 21) +
facet_matrix(
vars(bill_length_mm, flipper_length_mm, bill_depth_mm, body_mass_g)
)
# Chunk 14
dat %>%
ggplot(aes(fill = sex)) +
geom_autopoint(alpha = 0.5, size = 2, shape = 21) + # Layer 1
geom_autodensity(alpha = 0.5, position = "identity") + # Layer 2
facet_matrix(
vars(bill_length_mm, flipper_length_mm, bill_depth_mm, body_mass_g),
layer.diag = 2
)
# Chunk 15
dat %>%
ggplot(aes(fill = sex)) +
geom_autopoint(alpha = 0.5, size = 2, shape = 21) + # Layer 1
geom_autodensity(alpha = 0.75, position = "identity") + # Layer 2
geom_hex(aes(x = .panel_x, y = .panel_y), alpha = 0.75) + # Layer 3
facet_matrix(
vars(bill_length_mm, flipper_length_mm, bill_depth_mm, body_mass_g),
layer.diag = 2,
layer.lower = 3
)
# Chunk 16
dat %>%
ggplot() +
geom_boxplot(
aes(x = .panel_x, y = .panel_y, group = .panel_x)
) +
facet_matrix(
cols = vars(sex, species),
rows = vars(bill_depth_mm:body_mass_g)
)
# Chunk 17
dat %>%
ggplot() +
geom_boxplot(
aes(
x = .panel_x,
y = .panel_y,
fill = island,
group = interaction(.panel_x, island)
)
) +
facet_matrix(
cols = vars(sex, species),
rows = vars(bill_depth_mm:body_mass_g)
)
# Chunk 18
p1 <- dat %>%
ggplot(aes(fill = sex)) +
geom_autopoint(alpha = 0.5, size = 2, shape = 21) + # Layer 1
geom_autodensity(alpha = 0.75, position = "identity") + # Layer 2
geom_hex(aes(x = .panel_x, y = .panel_y), alpha = 0.75) + # Layer 3
facet_matrix(
vars(bill_length_mm, flipper_length_mm, bill_depth_mm, body_mass_g),
layer.diag = 2,
layer.lower = 3
)
p2 <- point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.4,
top = 0.99,
bottom = 0.6
)
p3 <- (wrapped_plots) /
boxplot_plot +
plot_layout(guides = "collect", heights = c(0.4, 0.6)) +
plot_annotation(
title = "Look at that arrangement!",
subtitle = "Wow",
caption = "Olà.",
tag_levels = "A",
tag_prefix = "(",
tag_suffix = ")"
) &
theme(legend.position = "top") &
scale_fill_brewer(palette = "Dark2")
p1 + p2 + p3
(p1 + p2) / p3
p1 <- dat %>%
ggplot(aes(fill = sex)) +
geom_autopoint(alpha = 0.5, size = 2, shape = 21) + # Layer 1
geom_autodensity(alpha = 0.75, position = "identity") + # Layer 2
geom_hex(aes(x = .panel_x, y = .panel_y), alpha = 0.75) + # Layer 3
facet_matrix(
vars(bill_length_mm, flipper_length_mm, bill_depth_mm, body_mass_g),
layer.diag = 2,
layer.lower = 3
)
p2 <- point_plot +
coord_cartesian(xlim = c(25, 60)) +
inset_element(
plt,
left = 0.01,
right = 0.4,
top = 0.99,
bottom = 0.6
)
p3 <- (point_plot + point_plot2 + plot_layout(widths = c(0.7, 0.3))) /
boxplot_plot +
plot_layout(guides = "collect", heights = c(0.4, 0.6)) +
plot_annotation(
title = "Look at that arrangement!",
subtitle = "Wow",
caption = "Olà.",
tag_levels = "A",
tag_prefix = "(",
tag_suffix = ")"
) &
labs(fill = "Penguin sex") &
theme(legend.position = "top") &
scale_fill_brewer(palette = "Dark2")
(p1 + p2) / p3
pnorm(1.09)
blogdown::new_post("a-few-learnings-from-a-simple-shiny-app", ext = ".Rmarkdown")
shiny::runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/start.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/01_add_theme.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/02_add_isolate.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/02_add_isolate.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/02_add_isolate.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/02_add_button.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/02_add_button.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/02_add_button.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/02_add_button.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/02_add_button.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/02_add_button.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/04_eventReactive_instead.R')
runApp('04_eventReactive_instead.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/04_eventReactive_instead.R')
runApp('content/en/post/2021-11-21-a-few-learnings-from-a-simple-shiny-app/DummyApp/04_eventReactive_instead.R')
