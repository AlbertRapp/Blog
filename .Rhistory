library(gghighlight)
library(ggtext)
# Some data wrangling
time_data <- read_csv("time-spent-with-relationships-by-age-us.csv") %>%
rename_with(
~c('Entitity', 'Code', 'Age', 'alone', 'friends', 'children', 'parents',
'partner', 'coworkers')
) %>%
pivot_longer(
cols = alone:coworkers,
names_to = 'person',
values_to = 'minutes'
) %>%
janitor::clean_names() %>%
filter(age <= 80)
# Color-blind safe colors
colors <- thematic::okabe_ito(8)[-6]
# Line plot
p <- time_data %>%
ggplot(aes(x = age, y = minutes, col = person)) +
geom_line(size = 1.5) +
scale_color_manual(values = colors) +
coord_cartesian(xlim = c(15, 81), expand = F) +
scale_y_continuous(minor_breaks = NULL) +
labs(x = 'Age (in years)', y = 'Minutes', col = 'Time spent')
age_40_plt <- p +
gghighlight(
person %in% c('alone', 'children'),
age >= 38,
use_direct_label = F
) +
geom_segment(x = 38, xend = 38, y = -Inf, yend = 300, linetype = 2, col = 'grey20') +
labs(title = 'Emphasize just one or a few categories')
age_40_text <- glue::glue(
"Around the age of 40, we spent less <br> time with
<span style = 'color:{colors[2]};'>children</span>
and more <br> time <span style = 'color:{colors[1]};'>alone</span>."
)
age_40_plt +
labs(title = 'Label directly') +
annotate(
'richtext',
x = 15,
y = 400,
label = age_40_text,
hjust = 0,
vjust = 0,
family = 'firasans',
lineheight = 1.25,
size = 5.5,
label.color = NA
) +
theme(legend.position = 'none')
blogdown::serve_site()
# Chunk 1
knitr::opts_chunk$set(collapse = T, fig.height = 6)
# Chunk 2
setwd(here::here('content/en/post/2022-03-04-fonts-and-icons/'))
library(tidyverse)
library(ggtext)
library(showtext)
showtext_auto()
#google name, name in R
font_add_google('Lora', 'lora')
font_add_google('Lobster', 'lobster')
font_add_google('Anton', 'anton')
font_add_google('Fira Sans', 'firasans')
theme_customs <- theme(
text = element_text(family = 'firasans', size = 16),
plot.title.position = 'plot',
plot.title = element_text(
face = 'bold',
colour = thematic::okabe_ito(8)[6],
margin = margin(t = 2, r = 0, b = 7, l = 0, unit = "mm")
),
)
theme_set(theme_minimal() + theme_customs)
# Chunk 3
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton'),
x = 0,
y = seq(0.5, 1, length.out = 4),
label = 'Showtext shows text. Wow. What an insight.'
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_text(family = tib$family, size = 14, hjust = 0, col = 'dodgerblue4') +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
# Chunk 4
library(gghighlight)
# Some data wrangling
time_data <- read_csv("time-spent-with-relationships-by-age-us.csv") %>%
rename_with(
~c('Entitity', 'Code', 'Age', 'alone', 'friends', 'children', 'parents',
'partner', 'coworkers')
) %>%
pivot_longer(
cols = alone:coworkers,
names_to = 'person',
values_to = 'minutes'
) %>%
janitor::clean_names() %>%
filter(age <= 80)
# Color-blind safe colors
colors <- thematic::okabe_ito(8)[-6]
# Line plot
p <- time_data %>%
ggplot(aes(x = age, y = minutes, col = person)) +
geom_line(size = 1.5) +
scale_color_manual(values = colors) +
coord_cartesian(xlim = c(15, 81), expand = F) +
scale_y_continuous(minor_breaks = NULL) +
labs(x = 'Age (in years)', y = 'Minutes', col = 'Time spent')
age_40_plt <- p +
gghighlight(
person %in% c('alone', 'children'),
age >= 38,
use_direct_label = F
) +
geom_segment(x = 38, xend = 38, y = -Inf, yend = 300, linetype = 2, col = 'grey20') +
labs(title = 'Emphasize just one or a few categories')
age_40_text <- glue::glue(
"Around the age of 40, we spent less <br> time with
<span style = 'color:{colors[2]};'>children</span>
and more <br> time <span style = 'color:{colors[1]};'>alone</span>."
)
age_40_plt +
labs(title = 'Label directly') +
annotate(
'richtext',
x = 15,
y = 400,
label = age_40_text,
hjust = 0,
vjust = 0,
family = 'firasans',
lineheight = 1.25,
size = 5.5,
label.color = NA
) +
theme(legend.position = 'none')
blogdown::serve_site()
font_add_google('BhuTuka Expanded One', 'bhutuka')
font_add_google('Syne Mono', 'syne')
theme_get()
# First argument = name in R
# Second argument = path to .otf-file
font_add('fa-reg', 'fonts/Font Awesome 6 Free-Regular-400.otf')
font_add('fa-brands', 'fonts/Font Awesome 6 Brands-Regular-400.otf')
font_add('fa-solid', 'fonts/Font Awesome 6 Free-Solid-900.otf')
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = 'Showtext shows text. Wow. What an insight.'
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_text(family = tib$family, size = 13, hjust = 0, col = 'dodgerblue4') +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight.<span style='font-family: \"fa-reg\"; color: \"#006400\"'>&#x0xe003;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 13, hjust = 0, col = 'dodgerblue4') +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight.<span style='font-family: \"fa-reg\"; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 13, hjust = 0, col = 'dodgerblue4') +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight.<span style='font-family: \"fa-reg\"; color: \"#006400\"'>&#f651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 13, hjust = 0, col = 'dodgerblue4') +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight.<span style='font-family: \"fa-reg\"; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 13, hjust = 0, col = 'dodgerblue4') +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight.<span style='font-family: \"fa-reg\"; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4') +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
# First argument = name in R
# Second argument = path to .otf-file
font_add('fa-reg', 'fonts/Font Awesome 6 Free-Regular-400.otf')
font_add('fa-brands', 'fonts/Font Awesome 6 Brands-Regular-400.otf')
font_add('fa-solid', 'fonts/Font Awesome 6 Free-Solid-900.otf')
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight.<span style='font-family: \"fa-sold\"; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4') +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight.<span style='font-family: \"fa-solid\"; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4') +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. &#xf651 What an insight.<span style='font-family: \"fa-solid\"; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4') +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight.<span style='font-family: \"fa-solid\"; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4') +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight.<span style='font-family: \"fa-solid\"; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4', label.size = 0) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight.<span style='font-family: \"fa-solid\"; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4', label.colour = 0) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight.<span style='font-family: \"fa-solid\"; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight. <span style='font-family: \"fa-solid\"; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight. <span style='font-family: fa-solid; color: \"#006400\"'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Showtext shows text. Wow. What an insight. <span style='font-family:fa-solid; color: #006400'>&#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Let's talk cash <span style='font-family:fa-solid; color: #006400'> &#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Let's talk cash <span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Let's talk cash <span style='font-family:fa-solid; color: dodgerblue3'> &#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Let's talk cash <span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 7, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Let's talk cash <span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 10, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Let's talk cash <span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 13, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Let's talk cash <span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span> "
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 16, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(0, 1)) +
theme_void()
tibble(x = runif(10), y = runif(10)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext()
tibble(x = runif(10), y = runif(10)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(size = 10, label.colour = NA) +
theme_minimal()
tibble(x = runif(10), y = runif(10)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(size = 10, label.colour = NA, fill = NA) +
theme_minimal()
tibble(x = runif(10), y = runif(10)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(size = 10, label.colour = NA, fill = NA) +
theme_minimal()
tibble(x = runif(10), y = runif(10)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(size = 10, label.colour = NA, fill = NA) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(size = 10, label.colour = NA, fill = NA) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(size = 10, label.colour = NA, fill = NA) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(size = 10, label.colour = NA, fill = NA) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "&#xf651")) +
geom_richtext(
size = 10, label.colour = NA, fill = NA
) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "&#xf651")) +
geom_richtext(
size = 10, label.colour = NA, fill = NA, family = 'fa-solid'
) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "&#xf651")) +
geom_richtext(
size = 10, label.colour = NA, fill = NA, family = 'fa-solid'
) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(
size = 10, label.colour = NA, fill = NA
) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(
size = 10, label.colour = NA, fill = NA
) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(
size = 10, label.colour = NA, fill = NA
) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(
size = 12, label.colour = NA, fill = NA
) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'> &#xf651;</span>")) +
geom_richtext(size = 12, label.colour = NA, fill = NA) +
theme_minimal()
warnings()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'x&#xf651;</span>")) +
geom_richtext(size = 12, label.colour = NA, fill = NA) +
theme_minimal()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid; color: dodgerblue4'>&#xf651;</span>")) +
geom_richtext(size = 12, label.colour = NA, fill = NA) +
theme_minimal()
tib <- tibble(
family = c('firasans', 'lora', 'lobster', 'anton', 'syne'),
x = 0,
y = seq(0.0, 1, length.out = 5),
label = "Let's talk cash <span style='font-family:fa-solid'>&#xf651;</span>"
)
tib %>%
ggplot(aes(x, y, label = label)) +
geom_richtext(family = tib$family, size = 16, hjust = 0, col = 'dodgerblue4', label.colour = NA) +
coord_cartesian(xlim = c(0, 1), ylim = c(-0.1, 1.1)) +
theme_void()
tibble(x = runif(25), y = runif(25)) %>%
ggplot(aes(x, y, label = "<span style='font-family:fa-solid;'>&#xf651;</span>")) +
geom_richtext(size = 12, label.colour = NA, fill = NA, col = 'dodgerblue4',) +
theme_minimal()
ggsave('bla.png')
blogdown::serve_site()
