{
  "hash": "1ff545e67ec3822aa668f659afa87c94",
  "result": {
    "markdown": "---\ntitle: glm\nformat: \n  hugo:\n    code-fold: true\nauthor: ''\ndate: '2022-05-28'\nslug: []\ncategories: []\ntags: []\ndescription: 'Introduction to GLMs'\nhideToc: no\nenableToc: yes\nenableTocContent: no\ntocFolding: no\ntocPosition: inner\ntocLevels:\n  - h2\n  - h3\n  - h4\nseries: ''\nimage: ~\nlibraries:\n  - mathjax\nexecute: \n  code-fold: true\n---\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n✔ ggplot2 3.3.6     ✔ purrr   0.3.4\n✔ tibble  3.1.7     ✔ dplyr   1.0.9\n✔ tidyr   1.2.0     ✔ stringr 1.4.0\n✔ readr   2.1.2     ✔ forcats 0.5.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n:::\n\n\n\n\n## Introductory example\n\n## bla\n\n::: panel-tabset\n### Transforming OLS estimates\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\npreds_lm %>% \n  ggplot(aes(body_mass_g, bill_length_mm, col = correct)) +\n  geom_jitter(size = 4, alpha = 0.6) +\n  facet_wrap(vars(species)) +\n  scale_color_manual(values = c('grey60', thematic::okabe_ito(3)[3])) +\n  scale_x_continuous(breaks = seq(3000, 6000, 1000)) +\n  theme_minimal(base_size = 12) +\n  theme(\n    legend.position = 'top', \n    panel.background = element_rect(color = 'black'),\n    panel.grid.minor = element_blank()\n  ) +\n  labs(\n    x = 'Body mass (in g)',\n    y = 'Bill length (in mm)'\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-gfm/unnamed-chunk-2-1.png){width=768}\n:::\n:::\n\n\n### Maximizing likelihood\n\n\n::: {.cell fig.showtext='true'}\n\n```{.r .cell-code}\nglm.mod <- glm(sex ~ body_mass_g + bill_length_mm + species, family = binomial, data = dat)\n\npreds <- dat %>% \n  mutate(\n    prob.fit = glm.mod$fitted.values,\n    prediction = if_else(prob.fit > 0.5, 'male', 'female'),\n    correct = if_else(sex == prediction, 'correct', 'incorrect')\n  )\n\n\npreds %>% \n  ggplot(aes(body_mass_g, bill_length_mm, col = correct)) +\n  geom_jitter(size = 4, alpha = 0.6) +\n  facet_wrap(vars(species)) +\n  scale_x_continuous(breaks = seq(3000, 6000, 1000)) +\n  scale_color_manual(values = c('grey60', thematic::okabe_ito(3)[3])) +\n  theme_minimal(base_size = 10) +\n  theme(\n    legend.position = 'top', \n    panel.background = element_rect(color = 'black'),\n    panel.grid.minor = element_blank()\n  ) +\n  labs(\n    x = 'Body mass (in g)',\n    y = 'Bill length (in mm)'\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-gfm/unnamed-chunk-3-1.png){width=768}\n:::\n:::\n\n:::\n\n\n\nLet me know what you think in the comments or simply hit the applause button below.\n",
    "supporting": [
      "index_files/figure-gfm"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": null
  }
}